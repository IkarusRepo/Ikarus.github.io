\hypertarget{a00110_source}{}\doxysection{eigendunetransformations.\+hh}
\label{a00110_source}\index{eigendunetransformations.hh@{eigendunetransformations.hh}}
\mbox{\hyperlink{a00110}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// SPDX-\/FileCopyrightText: 2021-\/2024 The Ikarus Developers mueller@ibb.uni-\/stuttgart.de}}
\DoxyCodeLine{2 \textcolor{comment}{// SPDX-\/License-\/Identifier: LGPL-\/3.0-\/or-\/later}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <assert.h>}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <dune/common/diagonalmatrix.hh>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <dune/common/fmatrix.hh>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <dune/common/fvector.hh>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <dune/istl/scaledidmatrix.hh>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <Eigen/Core>}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00219}{Ikarus}} \{}
\DoxyCodeLine{16 }
\DoxyCodeLine{18   \textcolor{keyword}{template} <\textcolor{keyword}{typename} ScalarType, \textcolor{keywordtype}{int} size>}
\DoxyCodeLine{19   \mbox{\hyperlink{a01217}{Dune::FieldVector<ScalarType, size>}} \mbox{\hyperlink{a00219_ab3afd8732c7518fb5cad5fc85f660ff4}{toDune}}(\textcolor{keyword}{const} Eigen::Vector<ScalarType, size>\& vec) \{}
\DoxyCodeLine{20     \mbox{\hyperlink{a01217}{Dune::FieldVector<ScalarType, size>}} fieldVector;}
\DoxyCodeLine{21     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < size; ++i)}
\DoxyCodeLine{22       fieldVector[i] = vec[i];}
\DoxyCodeLine{23     \textcolor{keywordflow}{return} fieldVector;}
\DoxyCodeLine{24   \}}
\DoxyCodeLine{25 }
\DoxyCodeLine{28   \textcolor{keyword}{template} <\textcolor{keyword}{typename} ScalarType, \textcolor{keywordtype}{int} rows>}
\DoxyCodeLine{29   \mbox{\hyperlink{a01217}{Dune::FieldVector<ScalarType, rows>}} \mbox{\hyperlink{a00219_ab3afd8732c7518fb5cad5fc85f660ff4}{toDune}}(\textcolor{keyword}{const} Eigen::Matrix<ScalarType, rows, 0>\& vec) \{}
\DoxyCodeLine{30     assert(vec.cols() == 1 \&\& \textcolor{stringliteral}{"{}The passed matrix needs to have a single column."{}});}
\DoxyCodeLine{31     \mbox{\hyperlink{a01217}{Dune::FieldVector<ScalarType, rows>}} fieldVector\{0.0\};}
\DoxyCodeLine{32 }
\DoxyCodeLine{33     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < vec.rows(); ++i)}
\DoxyCodeLine{34       fieldVector[i] = vec(i, 0);}
\DoxyCodeLine{35     \textcolor{keywordflow}{return} fieldVector;}
\DoxyCodeLine{36   \}}
\DoxyCodeLine{37 }
\DoxyCodeLine{39   \textcolor{keyword}{template} <\textcolor{keyword}{typename} ScalarType, \textcolor{keywordtype}{int} rows, \textcolor{keywordtype}{int} cols>}
\DoxyCodeLine{40   Dune::FieldMatrix<ScalarType, rows, cols> \mbox{\hyperlink{a00219_ab3afd8732c7518fb5cad5fc85f660ff4}{toDune}}(\textcolor{keyword}{const} Eigen::Matrix<ScalarType, rows, cols>\& mat) \{}
\DoxyCodeLine{41     Dune::FieldMatrix<ScalarType, rows, cols> fieldMatrix\{0.0\};}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < mat.rows(); ++i)}
\DoxyCodeLine{44       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < mat.cols(); ++j)}
\DoxyCodeLine{45         fieldMatrix[i][j] = mat(i, j);}
\DoxyCodeLine{46     \textcolor{keywordflow}{return} fieldMatrix;}
\DoxyCodeLine{47   \}}
\DoxyCodeLine{48 }
\DoxyCodeLine{50   \textcolor{keyword}{template} <\textcolor{keyword}{typename} ScalarType, \textcolor{keywordtype}{int} size>}
\DoxyCodeLine{51   Eigen::Map<const Eigen::Vector<ScalarType, size>> \mbox{\hyperlink{a00219_ab33f0f88435ac31e2f1230b321fe16db}{toEigenMap}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01217}{Dune::FieldVector<ScalarType, size>}}\& vec) \{}
\DoxyCodeLine{52     \textcolor{keywordflow}{return} \{vec.data(), size\};}
\DoxyCodeLine{53   \}}
\DoxyCodeLine{54 }
\DoxyCodeLine{56   \textcolor{keyword}{template} <\textcolor{keyword}{typename} ScalarType, \textcolor{keywordtype}{int} size>}
\DoxyCodeLine{57   Eigen::Map<Eigen::Vector<ScalarType, size>> \mbox{\hyperlink{a00219_ab33f0f88435ac31e2f1230b321fe16db}{toEigenMap}}(\mbox{\hyperlink{a01217}{Dune::FieldVector<ScalarType, size>}}\& vec) \{}
\DoxyCodeLine{58     \textcolor{keywordflow}{return} \{vec.data(), size\};}
\DoxyCodeLine{59   \}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61 \}  \textcolor{comment}{// namespace Ikarus}}

\end{DoxyCode}
