\hypertarget{a02470_source}{}\doxysection{utils/basis.hh}
\label{a02470_source}\index{basis.hh@{basis.hh}}
\mbox{\hyperlink{a02470}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// SPDX-\/FileCopyrightText: 2021-\/2024 The Ikarus Developers mueller@ibb.uni-\/stuttgart.de}}
\DoxyCodeLine{2 \textcolor{comment}{// SPDX-\/License-\/Identifier: LGPL-\/3.0-\/or-\/later}}
\DoxyCodeLine{3 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <dune/functions/functionspacebases/defaultglobalbasis.hh>}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00038}{ikarus/utils/flatprebasis.hh}}>}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00325}{Ikarus}} \{}
\DoxyCodeLine{19 }
\DoxyCodeLine{28 \textcolor{keyword}{template} <\textcolor{keyword}{typename} PB>}
\DoxyCodeLine{29 \textcolor{keyword}{class }\mbox{\hyperlink{a01458}{Basis}}}
\DoxyCodeLine{30 \{}
\DoxyCodeLine{31 \textcolor{keyword}{public}:}
\DoxyCodeLine{32   \textcolor{keyword}{using }\mbox{\hyperlink{a01458_abc71a37f00569d6e252c2a6d8b27e6a8}{PreBasis}} = PB;                          }
\DoxyCodeLine{33   \textcolor{keyword}{using }\mbox{\hyperlink{a01458_a8d38f4dcf756dd8cd92cb32df9f4b841}{GridView}} = \textcolor{keyword}{typename} PreBasis::GridView; }
\DoxyCodeLine{34   \textcolor{keyword}{using }\mbox{\hyperlink{a01458_a4a038594cf7686b3607a757614d9a4cb}{UntouchedBasis}} =}
\DoxyCodeLine{35       \textcolor{keyword}{decltype}(Dune::Functions::DefaultGlobalBasis(std::declval<PreBasis>())); }
\DoxyCodeLine{36   \textcolor{keyword}{using }\mbox{\hyperlink{a01458_ac3a602884975d46137f29afd143286b3}{FlatBasis}} = \textcolor{keyword}{decltype}(Dune::Functions::DefaultGlobalBasis(}
\DoxyCodeLine{37       \mbox{\hyperlink{a00320_ga0728039472747184e9eb2ec0992a4a2b}{Ikarus::flatPreBasis}}(std::declval<PreBasis>()))); }
\DoxyCodeLine{38 }
\DoxyCodeLine{46   \textcolor{keyword}{explicit} \mbox{\hyperlink{a01458_a1b835e17ce6f3f48669c38d89770501d}{Basis}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01458_abc71a37f00569d6e252c2a6d8b27e6a8}{PreBasis}}\& pb)}
\DoxyCodeLine{47       : bb\_\{\mbox{\hyperlink{a00331}{Dune}}::Functions::DefaultGlobalBasis(pb)\},}
\DoxyCodeLine{48         fb\_\{\mbox{\hyperlink{a00331}{Dune}}::Functions::DefaultGlobalBasis(\mbox{\hyperlink{a00325}{Ikarus}}::\mbox{\hyperlink{a00320_ga0728039472747184e9eb2ec0992a4a2b}{flatPreBasis}}(pb))\} \{\}}
\DoxyCodeLine{49 }
\DoxyCodeLine{55   \textcolor{keyword}{auto}\& \mbox{\hyperlink{a01458_a6f1e5e5482aa3ec74d3eaceb8eb3c656}{flat}}() \{ \textcolor{keywordflow}{return} fb\_; \}}
\DoxyCodeLine{56 }
\DoxyCodeLine{62   \textcolor{keyword}{auto}\& \mbox{\hyperlink{a01458_a7212d2f09ec83c7a1c35d4e129708a4d}{untouched}}() \{ \textcolor{keywordflow}{return} bb\_; \}}
\DoxyCodeLine{63 }
\DoxyCodeLine{69   \textcolor{keyword}{const} \textcolor{keyword}{auto}\& \mbox{\hyperlink{a01458_a4c08072e3135887d2c5ded81007509a5}{flat}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} fb\_; \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{76   \textcolor{keyword}{const} \textcolor{keyword}{auto}\& \mbox{\hyperlink{a01458_a6094c3045cc898d2e530009b1b9e19e6}{untouched}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} bb\_; \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{83   \textcolor{keyword}{const} \textcolor{keyword}{auto}\& \mbox{\hyperlink{a01458_a81b67336a725a312c5ddbde0f1c94d82}{gridView}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} bb\_.gridView(); \}}
\DoxyCodeLine{84 }
\DoxyCodeLine{90   \textcolor{keyword}{auto}\& \mbox{\hyperlink{a01458_a93f97fd443e710a829992fc3b998d768}{gridView}}() \{ \textcolor{keywordflow}{return} bb\_.gridView(); \}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92 \textcolor{keyword}{private}:}
\DoxyCodeLine{93   \mbox{\hyperlink{a01458_a4a038594cf7686b3607a757614d9a4cb}{UntouchedBasis}} bb\_;}
\DoxyCodeLine{94   \mbox{\hyperlink{a01458_ac3a602884975d46137f29afd143286b3}{FlatBasis}} fb\_;}
\DoxyCodeLine{95 \};}
\DoxyCodeLine{96 }
\DoxyCodeLine{108 \textcolor{keyword}{template} <\textcolor{keyword}{typename} GV, \textcolor{keyword}{typename} PBF>}
\DoxyCodeLine{109 \textcolor{keyword}{auto} \mbox{\hyperlink{a00325_a9acabb8291c86afe74e8617830e033de}{makeBasis}}(\textcolor{keyword}{const} GV\& gv, \textcolor{keyword}{const} PBF\& pb) \{}
\DoxyCodeLine{110   \textcolor{keyword}{auto} preBasis = pb(gv);}
\DoxyCodeLine{111   \textcolor{keywordflow}{return} \mbox{\hyperlink{a01458}{Basis}}(preBasis);}
\DoxyCodeLine{112 \}}
\DoxyCodeLine{113 }
\DoxyCodeLine{122 \textcolor{keyword}{template} <\textcolor{keyword}{typename} PB>}
\DoxyCodeLine{123 \textcolor{keyword}{auto} \mbox{\hyperlink{a00325_a9acabb8291c86afe74e8617830e033de}{makeBasis}}(\textcolor{keyword}{const} Dune::Functions::DefaultGlobalBasis<PB>\& gb) \{}
\DoxyCodeLine{124   \textcolor{keywordflow}{return} \mbox{\hyperlink{a01458}{Basis}}(gb.preBasis());}
\DoxyCodeLine{125 \}}
\DoxyCodeLine{126 \} \textcolor{comment}{// namespace Ikarus}}

\end{DoxyCode}
