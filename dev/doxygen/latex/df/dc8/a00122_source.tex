\hypertarget{a00122_source}{}\doxysection{ferequirements.\+hh}
\label{a00122_source}\index{ferequirements.hh@{ferequirements.hh}}
\mbox{\hyperlink{a00122}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// SPDX-\/FileCopyrightText: 2021-\/2024 The Ikarus Developers mueller@ibb.uni-\/stuttgart.de}}
\DoxyCodeLine{2 \textcolor{comment}{// SPDX-\/License-\/Identifier: LGPL-\/3.0-\/or-\/later}}
\DoxyCodeLine{3 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <iosfwd>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <set>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <dune/common/exceptions.hh>}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include <Eigen/Core>}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00008}{ikarus/utils/makeenum.hh}}>}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00292}{Ikarus}} \{}
\DoxyCodeLine{24   \textcolor{comment}{// clang-\/format off}}
\DoxyCodeLine{30 \textcolor{comment}{}  \mbox{\hyperlink{a00287_ga14ad7d33267cea1c93f97f3998081657}{MAKE\_ENUM}}(\mbox{\hyperlink{a00278_ga8a33210894e12be4feb3d96fdfde215c}{ScalarAffordances}},}
\DoxyCodeLine{31             noAffordance,}
\DoxyCodeLine{32             mechanicalPotentialEnergy,}
\DoxyCodeLine{33             microMagneticPotentialEnergy}
\DoxyCodeLine{34       );}
\DoxyCodeLine{35 }
\DoxyCodeLine{41   \mbox{\hyperlink{a00287_ga14ad7d33267cea1c93f97f3998081657}{MAKE\_ENUM}}(\mbox{\hyperlink{a00278_ga122268ff4d2c0beee58799d85ba5e52a}{VectorAffordances}},}
\DoxyCodeLine{42             noAffordance,}
\DoxyCodeLine{43             \mbox{\hyperlink{a00292_a8d0ca59930b7ae15351497bd14319d1d}{forces}},}
\DoxyCodeLine{44             microMagneticForces}
\DoxyCodeLine{45       );}
\DoxyCodeLine{46 }
\DoxyCodeLine{52   \mbox{\hyperlink{a00287_ga14ad7d33267cea1c93f97f3998081657}{MAKE\_ENUM}}(\mbox{\hyperlink{a00278_ga52cb89165daabb500f6e2eb68ddd76ee}{MatrixAffordances}},}
\DoxyCodeLine{53             noAffordance,}
\DoxyCodeLine{54             \mbox{\hyperlink{a00292_a5185740b975fb7539a6e07553a061b26}{stiffness}},}
\DoxyCodeLine{55             materialstiffness,}
\DoxyCodeLine{56             geometricstiffness,}
\DoxyCodeLine{57             \mbox{\hyperlink{a00292_a8191d0e317e1bea2a35d6c8a8f20750f}{stiffnessdiffBucklingVector}},}
\DoxyCodeLine{58             microMagneticHessian,}
\DoxyCodeLine{59             \mbox{\hyperlink{a00292_a7e05e861b25ca636c1ccba4b8d2a3831}{mass}}}
\DoxyCodeLine{60       );}
\DoxyCodeLine{61 }
\DoxyCodeLine{67   \mbox{\hyperlink{a00287_ga14ad7d33267cea1c93f97f3998081657}{MAKE\_ENUM}}(\mbox{\hyperlink{a00279_ga0c1577fd05efee8475b0f7fef795bbbe}{FEParameter}},}
\DoxyCodeLine{68             noParameter,}
\DoxyCodeLine{69             loadfactor,}
\DoxyCodeLine{70             time}
\DoxyCodeLine{71       );}
\DoxyCodeLine{72 }
\DoxyCodeLine{78   \mbox{\hyperlink{a00287_ga14ad7d33267cea1c93f97f3998081657}{MAKE\_ENUM}}(\mbox{\hyperlink{a00279_gaea763c94a1cecbeefc4f8661debcc5a3}{FESolutions}},}
\DoxyCodeLine{79             noSolution,}
\DoxyCodeLine{80             displacement,}
\DoxyCodeLine{81             velocity,}
\DoxyCodeLine{82             director,}
\DoxyCodeLine{83             magnetizationAndVectorPotential}
\DoxyCodeLine{84       );}
\DoxyCodeLine{85 }
\DoxyCodeLine{91   \mbox{\hyperlink{a00287_ga14ad7d33267cea1c93f97f3998081657}{MAKE\_ENUM}}(\mbox{\hyperlink{a00279_ga531be167e924b749eb8b4ccc7f1c18c9}{ResultType}},}
\DoxyCodeLine{92             noType,}
\DoxyCodeLine{93             magnetization,}
\DoxyCodeLine{94             gradientNormOfMagnetization,}
\DoxyCodeLine{95             vectorPotential,}
\DoxyCodeLine{96             divergenceOfVectorPotential,}
\DoxyCodeLine{97             BField,}
\DoxyCodeLine{98             HField,}
\DoxyCodeLine{99             cauchyStress,}
\DoxyCodeLine{100             PK2Stress,}
\DoxyCodeLine{101             linearStress,}
\DoxyCodeLine{102             director}
\DoxyCodeLine{103       );}
\DoxyCodeLine{104 }
\DoxyCodeLine{105   \textcolor{comment}{// clang-\/format on}}
\DoxyCodeLine{106 }
\DoxyCodeLine{110   \textcolor{keyword}{struct }\mbox{\hyperlink{a01199}{AffordanceCollectionImpl}} \{}
\DoxyCodeLine{111     \mbox{\hyperlink{a00278_ga8a33210894e12be4feb3d96fdfde215c}{ScalarAffordances}} \mbox{\hyperlink{a01199_a516061663dea71c22750abaf2175f6d5}{scalarAffordances}}\{\mbox{\hyperlink{a00278_gga8a33210894e12be4feb3d96fdfde215ca9a280b29988e2eac8c0767e0fcefb49c}{ScalarAffordances::noAffordance}}\};}
\DoxyCodeLine{112     \mbox{\hyperlink{a00278_ga122268ff4d2c0beee58799d85ba5e52a}{VectorAffordances}} \mbox{\hyperlink{a01199_a02e0fc97626b53e154bee9121582a69b}{vectorAffordances}}\{\mbox{\hyperlink{a00278_gga122268ff4d2c0beee58799d85ba5e52aa9a280b29988e2eac8c0767e0fcefb49c}{VectorAffordances::noAffordance}}\};}
\DoxyCodeLine{113     \mbox{\hyperlink{a00278_ga52cb89165daabb500f6e2eb68ddd76ee}{MatrixAffordances}} \mbox{\hyperlink{a01199_afe3707101cc945fda75d93821846399b}{matrixAffordances}}\{\mbox{\hyperlink{a00278_gga52cb89165daabb500f6e2eb68ddd76eea9a280b29988e2eac8c0767e0fcefb49c}{MatrixAffordances::noAffordance}}\};}
\DoxyCodeLine{114   \};}
\DoxyCodeLine{115 }
\DoxyCodeLine{119   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Type>}
\DoxyCodeLine{120   \textcolor{keyword}{concept }\mbox{\hyperlink{a01552}{FEAffordance}}}
\DoxyCodeLine{121       = std::is\_same\_v<std::remove\_cvref\_t<Type>, \mbox{\hyperlink{a00278_ga8a33210894e12be4feb3d96fdfde215c}{ScalarAffordances}}> or std::is\_same\_v<std::remove\_cvref\_t<Type>,}
\DoxyCodeLine{122                                                                                        \mbox{\hyperlink{a00278_ga122268ff4d2c0beee58799d85ba5e52a}{VectorAffordances}}> or std::}
\DoxyCodeLine{123           is\_same\_v<std::remove\_cvref\_t<Type>, \mbox{\hyperlink{a00278_ga52cb89165daabb500f6e2eb68ddd76ee}{MatrixAffordances}}> or std::is\_same\_v<std::remove\_cvref\_t<Type>,}
\DoxyCodeLine{124                                                                                     AffordanceCollectionImpl>;}
\DoxyCodeLine{125 }
\DoxyCodeLine{126   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} \mbox{\hyperlink{a00278_ga122268ff4d2c0beee58799d85ba5e52a}{VectorAffordances}} \mbox{\hyperlink{a00292_a8d0ca59930b7ae15351497bd14319d1d}{forces}} = \mbox{\hyperlink{a00278_gga122268ff4d2c0beee58799d85ba5e52aa2c05161a7e67e946ddc889571aac4e89}{VectorAffordances::forces}};}
\DoxyCodeLine{127 }
\DoxyCodeLine{128   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} \mbox{\hyperlink{a00278_ga52cb89165daabb500f6e2eb68ddd76ee}{MatrixAffordances}} \mbox{\hyperlink{a00292_a5185740b975fb7539a6e07553a061b26}{stiffness}}                   = \mbox{\hyperlink{a00278_gga52cb89165daabb500f6e2eb68ddd76eea086e8b527490b8abe606a8dd76586ab1}{MatrixAffordances::stiffness}};}
\DoxyCodeLine{129   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} \mbox{\hyperlink{a00278_ga52cb89165daabb500f6e2eb68ddd76ee}{MatrixAffordances}} \mbox{\hyperlink{a00292_a8191d0e317e1bea2a35d6c8a8f20750f}{stiffnessdiffBucklingVector}} = \mbox{\hyperlink{a00278_gga52cb89165daabb500f6e2eb68ddd76eeadaa7ff7d704732b763943e3355764532}{MatrixAffordances::stiffnessdiffBucklingVector}};}
\DoxyCodeLine{130   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} \mbox{\hyperlink{a00278_ga52cb89165daabb500f6e2eb68ddd76ee}{MatrixAffordances}} \mbox{\hyperlink{a00292_a7e05e861b25ca636c1ccba4b8d2a3831}{mass}}                        = \mbox{\hyperlink{a00278_gga52cb89165daabb500f6e2eb68ddd76eead90ccffa01275a7a7795fb6d1274e75f}{MatrixAffordances::mass}};}
\DoxyCodeLine{131 }
\DoxyCodeLine{132   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} \mbox{\hyperlink{a00278_ga8a33210894e12be4feb3d96fdfde215c}{ScalarAffordances}} \mbox{\hyperlink{a00292_a64dfa264a039267932c6c99eb66ae98e}{potentialEnergy}} = \mbox{\hyperlink{a00278_gga8a33210894e12be4feb3d96fdfde215ca814f34f472acef493e9ecf0ffccdcae6}{ScalarAffordances::mechanicalPotentialEnergy}};}
\DoxyCodeLine{133 }
\DoxyCodeLine{134   \textcolor{keyword}{namespace }AffordanceCollections \{}
\DoxyCodeLine{135     \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} \mbox{\hyperlink{a01199}{AffordanceCollectionImpl}} \mbox{\hyperlink{a00295_a74c1342e9b6a556e6b1276b7fde137e1}{elastoStatics}}}
\DoxyCodeLine{136         = \{\mbox{\hyperlink{a00278_gga8a33210894e12be4feb3d96fdfde215ca814f34f472acef493e9ecf0ffccdcae6}{ScalarAffordances::mechanicalPotentialEnergy}}, \mbox{\hyperlink{a00278_gga122268ff4d2c0beee58799d85ba5e52aa2c05161a7e67e946ddc889571aac4e89}{VectorAffordances::forces}}, \mbox{\hyperlink{a00278_gga52cb89165daabb500f6e2eb68ddd76eea086e8b527490b8abe606a8dd76586ab1}{MatrixAffordances::stiffness}}\};}
\DoxyCodeLine{137   \}}
\DoxyCodeLine{138 }
\DoxyCodeLine{139   \textcolor{keyword}{namespace }Impl \{}
\DoxyCodeLine{140     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{141     \textcolor{keyword}{struct }DeduceRawVectorType \{}
\DoxyCodeLine{142       \textcolor{keyword}{static\_assert}(!std::is\_same<T, T>::value, \textcolor{stringliteral}{"{}You should end up in the provided specializations"{}});}
\DoxyCodeLine{143     \};}
\DoxyCodeLine{144 }
\DoxyCodeLine{145     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{146     \textcolor{keyword}{struct }DeduceRawVectorType<std::reference\_wrapper<T>> \{}
\DoxyCodeLine{147       \textcolor{keyword}{using }Type = T;}
\DoxyCodeLine{148     \};}
\DoxyCodeLine{149 }
\DoxyCodeLine{150     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{151     \textcolor{keyword}{struct }DeduceRawVectorType<\mbox{\hyperlink{a00298}{Eigen}}::Ref<T>> \{}
\DoxyCodeLine{152       \textcolor{keyword}{using }Type = Eigen::Ref<T>;}
\DoxyCodeLine{153     \};}
\DoxyCodeLine{154   \}  \textcolor{comment}{// namespace Impl}}
\DoxyCodeLine{155 }
\DoxyCodeLine{168   \textcolor{keyword}{template} <\textcolor{keyword}{typename} SolutionVectorType\_ = std::reference\_wrapper<Eigen::VectorXd>,}
\DoxyCodeLine{169             \textcolor{keyword}{typename} ParameterType\_      = std::reference\_wrapper<\textcolor{keywordtype}{double}>>}
\DoxyCodeLine{170   \textcolor{keyword}{class }\mbox{\hyperlink{a01215}{FErequirements}} \{}
\DoxyCodeLine{171   \textcolor{keyword}{public}:}
\DoxyCodeLine{172     \textcolor{keyword}{using }\mbox{\hyperlink{a01215_a410aab421a30588621b0186225dbe3bd}{SolutionVectorType}}    = SolutionVectorType\_;}
\DoxyCodeLine{173     \textcolor{keyword}{using }\mbox{\hyperlink{a01215_afe01a23ad3c9115402dbf4590ace78d9}{SolutionVectorTypeRaw}} = Impl::DeduceRawVectorType<std::remove\_cvref\_t<SolutionVectorType\_>>::Type;}
\DoxyCodeLine{174     \textcolor{keyword}{using }\mbox{\hyperlink{a01215_a283e736964dbc4b20b80904020cd5cc6}{ParameterType}}         = ParameterType\_;}
\DoxyCodeLine{175     \textcolor{keyword}{using }\mbox{\hyperlink{a01215_aa3ecebd0be1a26600e54c0adaa46d74d}{ParameterTypeRaw}}      = ParameterType\_::type;}
\DoxyCodeLine{176 }
\DoxyCodeLine{186     \textcolor{keyword}{template} <FEAffordance Affordance>}
\DoxyCodeLine{187     \mbox{\hyperlink{a01215}{FErequirements}}\& \mbox{\hyperlink{a01215_ac0e6b621432e3afb64b5f2fe16a4f882}{addAffordance}}(Affordance\&\& affordance) \{}
\DoxyCodeLine{188       \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<Affordance, ScalarAffordances>)}
\DoxyCodeLine{189         affordances.\mbox{\hyperlink{a01199_a516061663dea71c22750abaf2175f6d5}{scalarAffordances}} = affordance;}
\DoxyCodeLine{190       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<Affordance, VectorAffordances>)}
\DoxyCodeLine{191         affordances.\mbox{\hyperlink{a01199_a02e0fc97626b53e154bee9121582a69b}{vectorAffordances}} = affordance;}
\DoxyCodeLine{192       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<Affordance, MatrixAffordances>)}
\DoxyCodeLine{193         affordances.\mbox{\hyperlink{a01199_afe3707101cc945fda75d93821846399b}{matrixAffordances}} = affordance;}
\DoxyCodeLine{194       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<Affordance, AffordanceCollectionImpl>)}
\DoxyCodeLine{195         affordances = affordance;}
\DoxyCodeLine{196       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{197     \}}
\DoxyCodeLine{198 }
\DoxyCodeLine{208     \mbox{\hyperlink{a01215}{FErequirements}}\& \mbox{\hyperlink{a01215_a6c148439a43c22ae70d654b54706be02}{insertParameter}}(\textcolor{keyword}{const} \mbox{\hyperlink{a00279_ga0c1577fd05efee8475b0f7fef795bbbe}{FEParameter}}\& key, \mbox{\hyperlink{a01215_aa3ecebd0be1a26600e54c0adaa46d74d}{ParameterTypeRaw}}\& val) \{}
\DoxyCodeLine{209       parameter.insert\_or\_assign(key, val);}
\DoxyCodeLine{210       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{211     \}}
\DoxyCodeLine{212 }
\DoxyCodeLine{222     \mbox{\hyperlink{a01215}{FErequirements}}\& \mbox{\hyperlink{a01215_a7da74676b3cc00ac87c05de5a295ebe2}{insertGlobalSolution}}(\textcolor{keyword}{const} \mbox{\hyperlink{a00279_gaea763c94a1cecbeefc4f8661debcc5a3}{FESolutions}}\& key, \mbox{\hyperlink{a01215_afe01a23ad3c9115402dbf4590ace78d9}{SolutionVectorTypeRaw}}\& sol) \{}
\DoxyCodeLine{223       sols.insert\_or\_assign(key, sol);}
\DoxyCodeLine{224       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{225     \}}
\DoxyCodeLine{226 }
\DoxyCodeLine{237     \textcolor{keyword}{const} \mbox{\hyperlink{a01215_afe01a23ad3c9115402dbf4590ace78d9}{SolutionVectorTypeRaw}}\& \mbox{\hyperlink{a01215_a6b9d77c43bcb665126cd6aa7a17b8ce0}{getGlobalSolution}}(\textcolor{keyword}{const} \mbox{\hyperlink{a00279_gaea763c94a1cecbeefc4f8661debcc5a3}{FESolutions}}\& key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{238       \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{239         \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<SolutionVectorType, std::reference\_wrapper<Eigen::VectorXd>>)}
\DoxyCodeLine{240           \textcolor{keywordflow}{return} sols.at(key).get();}
\DoxyCodeLine{241         \textcolor{keywordflow}{else}}
\DoxyCodeLine{242           \textcolor{keywordflow}{return} sols.at(key);}
\DoxyCodeLine{243       \} \textcolor{keywordflow}{catch} (std::out\_of\_range\& oor) \{}
\DoxyCodeLine{244         DUNE\_THROW(Dune::RangeError, std::string(\textcolor{stringliteral}{"{}Out of Range error: "{}}) + std::string(oor.what())}
\DoxyCodeLine{245                                          + \textcolor{stringliteral}{"{} in getGlobalSolution with key"{}} + \mbox{\hyperlink{a00292_a0853622412d4cedc078b81ba454eb250}{toString}}(key));}
\DoxyCodeLine{246         abort();}
\DoxyCodeLine{247       \}}
\DoxyCodeLine{248     \}}
\DoxyCodeLine{249 }
\DoxyCodeLine{260     \textcolor{keyword}{const} \mbox{\hyperlink{a01215_aa3ecebd0be1a26600e54c0adaa46d74d}{ParameterTypeRaw}}\& \mbox{\hyperlink{a01215_a040ef8c38857afd83c10024931a3b436}{getParameter}}(\mbox{\hyperlink{a00279_ga0c1577fd05efee8475b0f7fef795bbbe}{FEParameter}}\&\& key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{261       \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{262         \textcolor{keywordflow}{return} parameter.at(key).get();}
\DoxyCodeLine{263       \} \textcolor{keywordflow}{catch} (std::out\_of\_range\& oor) \{}
\DoxyCodeLine{264         DUNE\_THROW(Dune::RangeError, std::string(\textcolor{stringliteral}{"{}Out of Range error: "{}}) + std::string(oor.what())}
\DoxyCodeLine{265                                          + \textcolor{stringliteral}{"{} in getParameter with key"{}} + \mbox{\hyperlink{a00292_a0853622412d4cedc078b81ba454eb250}{toString}}(key));}
\DoxyCodeLine{266         abort();}
\DoxyCodeLine{267       \}}
\DoxyCodeLine{268     \}}
\DoxyCodeLine{269 }
\DoxyCodeLine{279     \textcolor{keyword}{template} <FEAffordance Affordance>}
\DoxyCodeLine{280     \textcolor{keywordtype}{bool} \mbox{\hyperlink{a01215_aa778ca2fcb44341b76641c23852c9092}{hasAffordance}}(Affordance\&\& affordance)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{281       \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<Affordance, ScalarAffordances>)}
\DoxyCodeLine{282         \textcolor{keywordflow}{return} affordances.\mbox{\hyperlink{a01199_a516061663dea71c22750abaf2175f6d5}{scalarAffordances}} == affordance;}
\DoxyCodeLine{283       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<Affordance, VectorAffordances>)}
\DoxyCodeLine{284         \textcolor{keywordflow}{return} affordances.\mbox{\hyperlink{a01199_a02e0fc97626b53e154bee9121582a69b}{vectorAffordances}} == affordance;}
\DoxyCodeLine{285       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<Affordance, MatrixAffordances>)}
\DoxyCodeLine{286         \textcolor{keywordflow}{return} affordances.\mbox{\hyperlink{a01199_afe3707101cc945fda75d93821846399b}{matrixAffordances}} == affordance;}
\DoxyCodeLine{287       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<Affordance, AffordanceCollectionImpl>)}
\DoxyCodeLine{288         \textcolor{keywordflow}{return} affordances == affordance;}
\DoxyCodeLine{289     \}}
\DoxyCodeLine{290 }
\DoxyCodeLine{291   \textcolor{keyword}{private}:}
\DoxyCodeLine{292     std::map<FESolutions, SolutionVectorType> sols;}
\DoxyCodeLine{293     std::map<FEParameter, ParameterType> parameter;}
\DoxyCodeLine{294     \mbox{\hyperlink{a01199}{AffordanceCollectionImpl}} affordances;}
\DoxyCodeLine{295   \};}
\DoxyCodeLine{296 }
\DoxyCodeLine{307   \textcolor{keyword}{template} <\textcolor{keyword}{typename} ParameterType = \textcolor{keywordtype}{double}>}
\DoxyCodeLine{308   \textcolor{keyword}{class }\mbox{\hyperlink{a01219}{ResultTypeMap}} \{}
\DoxyCodeLine{309   \textcolor{keyword}{public}:}
\DoxyCodeLine{310     \textcolor{keyword}{using }\mbox{\hyperlink{a01219_a72132ad19ec7049750ba2c4f60cde93f}{ResultArray}} = Eigen::Matrix<ParameterType, Eigen::Dynamic, Eigen::Dynamic, 0, 9, 3>;}
\DoxyCodeLine{311 }
\DoxyCodeLine{320     \textcolor{keywordtype}{void} \mbox{\hyperlink{a01219_aa399a96000daf40950e388eb0b23a7c0}{insertOrAssignResult}}(\mbox{\hyperlink{a00279_ga531be167e924b749eb8b4ccc7f1c18c9}{ResultType}}\&\& resultType, \textcolor{keyword}{const} \mbox{\hyperlink{a01219_a72132ad19ec7049750ba2c4f60cde93f}{ResultArray}}\& resultArray) \{}
\DoxyCodeLine{321       results.insert\_or\_assign(resultType, resultArray);}
\DoxyCodeLine{322     \}}
\DoxyCodeLine{323 }
\DoxyCodeLine{334     \mbox{\hyperlink{a01219_a72132ad19ec7049750ba2c4f60cde93f}{ResultArray}}\& \mbox{\hyperlink{a01219_a7f9a61700e42a5507d7dfcfd059a4067}{getResult}}(\textcolor{keyword}{const} \mbox{\hyperlink{a00279_ga531be167e924b749eb8b4ccc7f1c18c9}{ResultType}}\& resultType) \{ \textcolor{keywordflow}{return} results.at(resultType); \}}
\DoxyCodeLine{335 }
\DoxyCodeLine{345     \textcolor{keyword}{auto}\& \mbox{\hyperlink{a01219_a6c2c52fc90ff0af02def08b0c8f5deb2}{getSingleResult}}() \{}
\DoxyCodeLine{346       \textcolor{keywordflow}{if} (results.size() != 1)}
\DoxyCodeLine{347         DUNE\_THROW(Dune::RangeError, \textcolor{stringliteral}{"{}getSingleResult can only be called when a single result was inserted"{}});}
\DoxyCodeLine{348       \textcolor{keywordflow}{else}}
\DoxyCodeLine{349         \textcolor{keywordflow}{return} *(results.begin());}
\DoxyCodeLine{350     \}}
\DoxyCodeLine{351 }
\DoxyCodeLine{352   \textcolor{keyword}{private}:}
\DoxyCodeLine{353     std::map<ResultType, ResultArray> results;}
\DoxyCodeLine{354   \};}
\DoxyCodeLine{355 }
\DoxyCodeLine{356   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Type>}
\DoxyCodeLine{357   \textcolor{keyword}{concept }\mbox{\hyperlink{a01553}{ResultTypeConcept}} = std::is\_same\_v<Type, ResultType>;}
\DoxyCodeLine{358 }
\DoxyCodeLine{370   \textcolor{keyword}{template} <\textcolor{keyword}{typename} FErequirements = FErequirements<>>}
\DoxyCodeLine{371   \textcolor{keyword}{class }\mbox{\hyperlink{a01223}{ResultRequirements}} \{}
\DoxyCodeLine{372   \textcolor{keyword}{public}:}
\DoxyCodeLine{373     \textcolor{keyword}{using }\mbox{\hyperlink{a01223_a249d873676137eb115f5451427f7503e}{ParameterTypeRaw}}      = \textcolor{keyword}{typename} \mbox{\hyperlink{a01215_aa3ecebd0be1a26600e54c0adaa46d74d}{FErequirements::ParameterTypeRaw}};}
\DoxyCodeLine{374     \textcolor{keyword}{using }\mbox{\hyperlink{a01223_ade5c36f80718337e7f4ef4ae8b391146}{SolutionVectorType}}    = \textcolor{keyword}{typename} \mbox{\hyperlink{a01215_a410aab421a30588621b0186225dbe3bd}{FErequirements::SolutionVectorType}};}
\DoxyCodeLine{375     \textcolor{keyword}{using }\mbox{\hyperlink{a01223_a666b1e8176883471623c42d37211dbbc}{SolutionVectorTypeRaw}} = \textcolor{keyword}{typename} \mbox{\hyperlink{a01215_afe01a23ad3c9115402dbf4590ace78d9}{FErequirements::SolutionVectorTypeRaw}};}
\DoxyCodeLine{376 }
\DoxyCodeLine{385     \mbox{\hyperlink{a01223_ae63816b06a691101db0313dab0d4ce0f}{ResultRequirements}}(\mbox{\hyperlink{a01215}{FErequirements}}\&\& req, std::set<ResultType>\&\& p\_resType)}
\DoxyCodeLine{386         : reqB\{req\}, resType(std::move(p\_resType)) \{\}}
\DoxyCodeLine{387 }
\DoxyCodeLine{395     \textcolor{keyword}{explicit} \mbox{\hyperlink{a01223_a0c1bc6b4652926a39d20c8488c297317}{ResultRequirements}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01215}{FErequirements}}\& req) : reqB\{req\} \{\}}
\DoxyCodeLine{396 }
\DoxyCodeLine{402     \mbox{\hyperlink{a01223_a09b6184e9fa1587fd23d29298e1dd15b}{ResultRequirements}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{403 }
\DoxyCodeLine{412     \textcolor{keywordtype}{bool} \mbox{\hyperlink{a01223_a3d41a3aca3b508538bed0246af51e8c4}{isResultRequested}}(\mbox{\hyperlink{a00279_ga531be167e924b749eb8b4ccc7f1c18c9}{ResultType}}\&\& key)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} resType.contains(key); \}}
\DoxyCodeLine{413 }
\DoxyCodeLine{423     \textcolor{keyword}{template} <FEAffordance Affordance>}
\DoxyCodeLine{424     \mbox{\hyperlink{a01223}{ResultRequirements}}\& \mbox{\hyperlink{a01223_a766f4be341a9daf3ac3af27888778eeb}{addAffordance}}(Affordance\&\& affordance) \{}
\DoxyCodeLine{425       reqB.\mbox{\hyperlink{a01215_ac0e6b621432e3afb64b5f2fe16a4f882}{addAffordance}}(std::forward<Affordance>(affordance));}
\DoxyCodeLine{426       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{427     \}}
\DoxyCodeLine{428 }
\DoxyCodeLine{438     \mbox{\hyperlink{a01223}{ResultRequirements}}\& \mbox{\hyperlink{a01223_a3fbc8b71e9463eb2aff7afa73db77023}{insertParameter}}(\mbox{\hyperlink{a00279_ga0c1577fd05efee8475b0f7fef795bbbe}{FEParameter}}\&\& key, \mbox{\hyperlink{a01223_a249d873676137eb115f5451427f7503e}{ParameterTypeRaw}}\& val) \{}
\DoxyCodeLine{439       reqB.\mbox{\hyperlink{a01215_a6c148439a43c22ae70d654b54706be02}{insertParameter}}(std::forward<FEParameter>(key), val);}
\DoxyCodeLine{440       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{441     \}}
\DoxyCodeLine{442 }
\DoxyCodeLine{452     \mbox{\hyperlink{a01223}{ResultRequirements}}\& \mbox{\hyperlink{a01223_ac70755df382d8f81da6abbaa1c2e5199}{insertGlobalSolution}}(\mbox{\hyperlink{a00279_gaea763c94a1cecbeefc4f8661debcc5a3}{FESolutions}}\&\& key, \mbox{\hyperlink{a01223_a666b1e8176883471623c42d37211dbbc}{SolutionVectorTypeRaw}}\& sol) \{}
\DoxyCodeLine{453       reqB.\mbox{\hyperlink{a01215_a7da74676b3cc00ac87c05de5a295ebe2}{insertGlobalSolution}}(std::forward<FESolutions>(key), sol);}
\DoxyCodeLine{454       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{455     \}}
\DoxyCodeLine{456 }
\DoxyCodeLine{466     \textcolor{keyword}{template} <\mbox{\hyperlink{a01553}{ResultTypeConcept}}... ResultTypes>}
\DoxyCodeLine{467     \mbox{\hyperlink{a01223}{ResultRequirements}}\& \mbox{\hyperlink{a01223_a115edf304fdee5346879789896958ed3}{addResultRequest}}(ResultTypes\&\&... keys) \{}
\DoxyCodeLine{468       resType.insert(\{std::move(keys)...\});}
\DoxyCodeLine{469       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{470     \}}
\DoxyCodeLine{471 }
\DoxyCodeLine{480     \textcolor{keyword}{const} \mbox{\hyperlink{a01223_a666b1e8176883471623c42d37211dbbc}{SolutionVectorTypeRaw}}\& \mbox{\hyperlink{a01223_ad587482320609b1ab17c82b094000d08}{getGlobalSolution}}(\mbox{\hyperlink{a00279_gaea763c94a1cecbeefc4f8661debcc5a3}{FESolutions}}\&\& key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{481       \textcolor{keywordflow}{return} reqB.\mbox{\hyperlink{a01215_a6b9d77c43bcb665126cd6aa7a17b8ce0}{getGlobalSolution}}(std::move(key));}
\DoxyCodeLine{482     \}}
\DoxyCodeLine{483 }
\DoxyCodeLine{492     \textcolor{keyword}{const} \mbox{\hyperlink{a01223_a249d873676137eb115f5451427f7503e}{ParameterTypeRaw}}\& \mbox{\hyperlink{a01223_a6117237834b64f1ebaecafcd282f4d4b}{getParameter}}(\mbox{\hyperlink{a00279_ga0c1577fd05efee8475b0f7fef795bbbe}{FEParameter}}\&\& key)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} reqB.\mbox{\hyperlink{a01215_a040ef8c38857afd83c10024931a3b436}{getParameter}}(std::move(key)); \}}
\DoxyCodeLine{493 }
\DoxyCodeLine{501     \textcolor{keyword}{const} \mbox{\hyperlink{a01215}{FErequirements}}\& \mbox{\hyperlink{a01223_a84cdc0f3d956bf0f425d0688bfd1e653}{getFERequirements}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} reqB; \}}
\DoxyCodeLine{502 }
\DoxyCodeLine{512     \textcolor{keyword}{auto} \mbox{\hyperlink{a01223_ad622d1a543d8508029519eb401cade0a}{getRequestedResult}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{513       \textcolor{keywordflow}{if} (resType.size() == 1)}
\DoxyCodeLine{514         \textcolor{keywordflow}{return} *(resType.begin());}
\DoxyCodeLine{515       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{516         DUNE\_THROW(Dune::InvalidStateException, \textcolor{stringliteral}{"{}This function can only be called when a single result is requested"{}});}
\DoxyCodeLine{517       \}}
\DoxyCodeLine{518     \}}
\DoxyCodeLine{519 }
\DoxyCodeLine{520   \textcolor{keyword}{private}:}
\DoxyCodeLine{521     std::set<ResultType> resType;}
\DoxyCodeLine{522     \mbox{\hyperlink{a01215}{FErequirements}} reqB;}
\DoxyCodeLine{523   \};}
\DoxyCodeLine{524 \}  \textcolor{comment}{// namespace Ikarus}}

\end{DoxyCode}
