\hypertarget{a00020_source}{}\doxysection{ferequirements.\+hh}
\label{a00020_source}\index{ferequirements.hh@{ferequirements.hh}}
\mbox{\hyperlink{a00020}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// SPDX-\/FileCopyrightText: 2021-\/2024 The Ikarus Developers mueller@ibb.uni-\/stuttgart.de}}
\DoxyCodeLine{2 \textcolor{comment}{// SPDX-\/License-\/Identifier: LGPL-\/3.0-\/or-\/later}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <iosfwd>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <set>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <dune/common/exceptions.hh>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <Eigen/Core>}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00092}{ikarus/utils/makeenum.hh}}>}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00219}{Ikarus}} \{}
\DoxyCodeLine{18 }
\DoxyCodeLine{19   \textcolor{comment}{// clang-\/format off}}
\DoxyCodeLine{20   \mbox{\hyperlink{a00219_a38b6c8f32ff11f89f712568554f20f72}{MAKE\_ENUM}}(ScalarAffordances,}
\DoxyCodeLine{21     noAffordance,}
\DoxyCodeLine{22     mechanicalPotentialEnergy,}
\DoxyCodeLine{23     microMagneticPotentialEnergy}
\DoxyCodeLine{24   );}
\DoxyCodeLine{25 }
\DoxyCodeLine{26   \mbox{\hyperlink{a00219_a38b6c8f32ff11f89f712568554f20f72}{MAKE\_ENUM}}(VectorAffordances,}
\DoxyCodeLine{27     noAffordance,}
\DoxyCodeLine{28     \mbox{\hyperlink{a00219_a8d0ca59930b7ae15351497bd14319d1d}{forces}},}
\DoxyCodeLine{29     microMagneticForces}
\DoxyCodeLine{30   );}
\DoxyCodeLine{31 }
\DoxyCodeLine{32   \mbox{\hyperlink{a00219_a38b6c8f32ff11f89f712568554f20f72}{MAKE\_ENUM}}(MatrixAffordances,}
\DoxyCodeLine{33     noAffordance,}
\DoxyCodeLine{34     \mbox{\hyperlink{a00219_a5185740b975fb7539a6e07553a061b26}{stiffness}},}
\DoxyCodeLine{35     materialstiffness,}
\DoxyCodeLine{36     geometricstiffness,}
\DoxyCodeLine{37     \mbox{\hyperlink{a00219_a8191d0e317e1bea2a35d6c8a8f20750f}{stiffnessdiffBucklingVector}},}
\DoxyCodeLine{38     microMagneticHessian,}
\DoxyCodeLine{39     \mbox{\hyperlink{a00219_a7e05e861b25ca636c1ccba4b8d2a3831}{mass}}}
\DoxyCodeLine{40   );}
\DoxyCodeLine{41 }
\DoxyCodeLine{42   \mbox{\hyperlink{a00219_a38b6c8f32ff11f89f712568554f20f72}{MAKE\_ENUM}}(FEParameter,}
\DoxyCodeLine{43     noParameter,}
\DoxyCodeLine{44     loadfactor,}
\DoxyCodeLine{45     time}
\DoxyCodeLine{46     );}
\DoxyCodeLine{47 }
\DoxyCodeLine{48   \mbox{\hyperlink{a00219_a38b6c8f32ff11f89f712568554f20f72}{MAKE\_ENUM}}(FESolutions,}
\DoxyCodeLine{49     noSolution,}
\DoxyCodeLine{50     displacement,}
\DoxyCodeLine{51     velocity,}
\DoxyCodeLine{52     director,}
\DoxyCodeLine{53     magnetizationAndVectorPotential}
\DoxyCodeLine{54   );}
\DoxyCodeLine{55 }
\DoxyCodeLine{56   \mbox{\hyperlink{a00219_a38b6c8f32ff11f89f712568554f20f72}{MAKE\_ENUM}}(ResultType,}
\DoxyCodeLine{57     noType,}
\DoxyCodeLine{58     magnetization,}
\DoxyCodeLine{59     gradientNormOfMagnetization,}
\DoxyCodeLine{60     vectorPotential,}
\DoxyCodeLine{61     divergenceOfVectorPotential,}
\DoxyCodeLine{62     BField,}
\DoxyCodeLine{63     HField,}
\DoxyCodeLine{64     cauchyStress,}
\DoxyCodeLine{65     PK2Stress,}
\DoxyCodeLine{66     linearStress,}
\DoxyCodeLine{67     director}
\DoxyCodeLine{68   );}
\DoxyCodeLine{69 }
\DoxyCodeLine{70   \textcolor{comment}{// clang-\/format on}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72   \textcolor{keyword}{struct }\mbox{\hyperlink{a01125}{AffordanceCollectionImpl}} \{}
\DoxyCodeLine{73     ScalarAffordances \mbox{\hyperlink{a01125_a516061663dea71c22750abaf2175f6d5}{scalarAffordances}}\{ScalarAffordances::noAffordance\};}
\DoxyCodeLine{74     VectorAffordances \mbox{\hyperlink{a01125_a02e0fc97626b53e154bee9121582a69b}{vectorAffordances}}\{VectorAffordances::noAffordance\};}
\DoxyCodeLine{75     MatrixAffordances \mbox{\hyperlink{a01125_afe3707101cc945fda75d93821846399b}{matrixAffordances}}\{MatrixAffordances::noAffordance\};}
\DoxyCodeLine{76   \};}
\DoxyCodeLine{77 }
\DoxyCodeLine{78   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Type>}
\DoxyCodeLine{79   \textcolor{keyword}{concept }\mbox{\hyperlink{a01554}{FEAffordance}}}
\DoxyCodeLine{80       = std::is\_same\_v<std::remove\_cvref\_t<Type>, ScalarAffordances> or std::is\_same\_v<std::remove\_cvref\_t<Type>,}
\DoxyCodeLine{81                                                                                        VectorAffordances> or std::}
\DoxyCodeLine{82           is\_same\_v<std::remove\_cvref\_t<Type>, MatrixAffordances> or std::is\_same\_v<std::remove\_cvref\_t<Type>,}
\DoxyCodeLine{83                                                                                     AffordanceCollectionImpl>;}
\DoxyCodeLine{84 }
\DoxyCodeLine{85   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} VectorAffordances \mbox{\hyperlink{a00219_a8d0ca59930b7ae15351497bd14319d1d}{forces}} = \mbox{\hyperlink{a00219_a8d0ca59930b7ae15351497bd14319d1d}{VectorAffordances::forces}};}
\DoxyCodeLine{86 }
\DoxyCodeLine{87   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} MatrixAffordances \mbox{\hyperlink{a00219_a5185740b975fb7539a6e07553a061b26}{stiffness}}                   = \mbox{\hyperlink{a00219_a5185740b975fb7539a6e07553a061b26}{MatrixAffordances::stiffness}};}
\DoxyCodeLine{88   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} MatrixAffordances \mbox{\hyperlink{a00219_a8191d0e317e1bea2a35d6c8a8f20750f}{stiffnessdiffBucklingVector}} = \mbox{\hyperlink{a00219_a8191d0e317e1bea2a35d6c8a8f20750f}{MatrixAffordances::stiffnessdiffBucklingVector}};}
\DoxyCodeLine{89   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} MatrixAffordances \mbox{\hyperlink{a00219_a7e05e861b25ca636c1ccba4b8d2a3831}{mass}}                        = \mbox{\hyperlink{a00219_a7e05e861b25ca636c1ccba4b8d2a3831}{MatrixAffordances::mass}};}
\DoxyCodeLine{90 }
\DoxyCodeLine{91   \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} ScalarAffordances \mbox{\hyperlink{a00219_a64dfa264a039267932c6c99eb66ae98e}{potentialEnergy}} = ScalarAffordances::mechanicalPotentialEnergy;}
\DoxyCodeLine{92 }
\DoxyCodeLine{93   \textcolor{keyword}{namespace }AffordanceCollections \{}
\DoxyCodeLine{94     \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} \mbox{\hyperlink{a01125}{AffordanceCollectionImpl}} \mbox{\hyperlink{a00221_a74c1342e9b6a556e6b1276b7fde137e1}{elastoStatics}}}
\DoxyCodeLine{95         = \{ScalarAffordances::mechanicalPotentialEnergy, \mbox{\hyperlink{a00219_a8d0ca59930b7ae15351497bd14319d1d}{VectorAffordances::forces}}, \mbox{\hyperlink{a00219_a5185740b975fb7539a6e07553a061b26}{MatrixAffordances::stiffness}}\};}
\DoxyCodeLine{96   \}}
\DoxyCodeLine{97 }
\DoxyCodeLine{98   \textcolor{keyword}{namespace }Impl \{}
\DoxyCodeLine{99     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{100     \textcolor{keyword}{struct }DeduceRawVectorType \{}
\DoxyCodeLine{101       \textcolor{keyword}{static\_assert}(!std::is\_same<T, T>::value, \textcolor{stringliteral}{"{}You should end up in the provided specializations"{}});}
\DoxyCodeLine{102     \};}
\DoxyCodeLine{103 }
\DoxyCodeLine{104     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{105     \textcolor{keyword}{struct }DeduceRawVectorType<std::reference\_wrapper<T>> \{}
\DoxyCodeLine{106       \textcolor{keyword}{using }Type = T;}
\DoxyCodeLine{107     \};}
\DoxyCodeLine{108 }
\DoxyCodeLine{109     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{110     \textcolor{keyword}{struct }DeduceRawVectorType<\mbox{\hyperlink{a00225}{Eigen}}::Ref<T>> \{}
\DoxyCodeLine{111       \textcolor{keyword}{using }Type = Eigen::Ref<T>;}
\DoxyCodeLine{112     \};}
\DoxyCodeLine{113   \}  \textcolor{comment}{// namespace Impl}}
\DoxyCodeLine{114 }
\DoxyCodeLine{115   \textcolor{keyword}{template} <\textcolor{keyword}{typename} SolutionVectorType\_ = std::reference\_wrapper<Eigen::VectorXd>,}
\DoxyCodeLine{116             \textcolor{keyword}{typename} ParameterType\_      = std::reference\_wrapper<\textcolor{keywordtype}{double}>>}
\DoxyCodeLine{117   \textcolor{keyword}{class }\mbox{\hyperlink{a01141}{FErequirements}} \{}
\DoxyCodeLine{118   \textcolor{keyword}{public}:}
\DoxyCodeLine{119     \textcolor{keyword}{using }\mbox{\hyperlink{a01141_a410aab421a30588621b0186225dbe3bd}{SolutionVectorType}}    = SolutionVectorType\_;}
\DoxyCodeLine{120     \textcolor{keyword}{using }\mbox{\hyperlink{a01141_afe01a23ad3c9115402dbf4590ace78d9}{SolutionVectorTypeRaw}} = Impl::DeduceRawVectorType<std::remove\_cvref\_t<SolutionVectorType\_>>::Type;}
\DoxyCodeLine{121     \textcolor{keyword}{using }\mbox{\hyperlink{a01141_a283e736964dbc4b20b80904020cd5cc6}{ParameterType}}         = ParameterType\_;}
\DoxyCodeLine{122     \textcolor{keyword}{using }\mbox{\hyperlink{a01141_aa3ecebd0be1a26600e54c0adaa46d74d}{ParameterTypeRaw}}      = ParameterType\_::type;}
\DoxyCodeLine{123     \textcolor{keyword}{template} <FEAffordance Affordance>}
\DoxyCodeLine{124     \mbox{\hyperlink{a01141}{FErequirements}} \&\mbox{\hyperlink{a01141_ac0e6b621432e3afb64b5f2fe16a4f882}{addAffordance}}(Affordance \&\&affordance) \{}
\DoxyCodeLine{125       \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<Affordance, ScalarAffordances>)}
\DoxyCodeLine{126         affordances.\mbox{\hyperlink{a01125_a516061663dea71c22750abaf2175f6d5}{scalarAffordances}} = affordance;}
\DoxyCodeLine{127       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<Affordance, VectorAffordances>)}
\DoxyCodeLine{128         affordances.\mbox{\hyperlink{a01125_a02e0fc97626b53e154bee9121582a69b}{vectorAffordances}} = affordance;}
\DoxyCodeLine{129       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<Affordance, MatrixAffordances>)}
\DoxyCodeLine{130         affordances.\mbox{\hyperlink{a01125_afe3707101cc945fda75d93821846399b}{matrixAffordances}} = affordance;}
\DoxyCodeLine{131       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<Affordance, AffordanceCollectionImpl>)}
\DoxyCodeLine{132         affordances = affordance;}
\DoxyCodeLine{133       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{134     \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{136     \mbox{\hyperlink{a01141}{FErequirements}} \&\mbox{\hyperlink{a01141_a6c148439a43c22ae70d654b54706be02}{insertParameter}}(\textcolor{keyword}{const} FEParameter \&key, \mbox{\hyperlink{a01141_aa3ecebd0be1a26600e54c0adaa46d74d}{ParameterTypeRaw}} \&val) \{}
\DoxyCodeLine{137       parameter.insert\_or\_assign(key, val);}
\DoxyCodeLine{138       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{139     \}}
\DoxyCodeLine{140 }
\DoxyCodeLine{141     \mbox{\hyperlink{a01141}{FErequirements}} \&\mbox{\hyperlink{a01141_a7da74676b3cc00ac87c05de5a295ebe2}{insertGlobalSolution}}(\textcolor{keyword}{const} FESolutions \&key, \mbox{\hyperlink{a01141_afe01a23ad3c9115402dbf4590ace78d9}{SolutionVectorTypeRaw}} \&sol) \{}
\DoxyCodeLine{142       sols.insert\_or\_assign(key, sol);}
\DoxyCodeLine{143       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{144     \}}
\DoxyCodeLine{145 }
\DoxyCodeLine{146     \textcolor{keyword}{const} \mbox{\hyperlink{a01141_afe01a23ad3c9115402dbf4590ace78d9}{SolutionVectorTypeRaw}} \&\mbox{\hyperlink{a01141_a6b9d77c43bcb665126cd6aa7a17b8ce0}{getGlobalSolution}}(\textcolor{keyword}{const} FESolutions \&key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{147       \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{148         \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<SolutionVectorType, std::reference\_wrapper<Eigen::VectorXd>>)}
\DoxyCodeLine{149           \textcolor{keywordflow}{return} sols.at(key).get();}
\DoxyCodeLine{150         \textcolor{keywordflow}{else}}
\DoxyCodeLine{151           \textcolor{keywordflow}{return} sols.at(key);}
\DoxyCodeLine{152       \} \textcolor{keywordflow}{catch} (std::out\_of\_range \&oor) \{}
\DoxyCodeLine{153         DUNE\_THROW(Dune::RangeError, std::string(\textcolor{stringliteral}{"{}Out of Range error: "{}}) + std::string(oor.what())}
\DoxyCodeLine{154                                          + \textcolor{stringliteral}{"{} in getGlobalSolution with key"{}} + toString(key));}
\DoxyCodeLine{155         abort();}
\DoxyCodeLine{156       \}}
\DoxyCodeLine{157     \}}
\DoxyCodeLine{158 }
\DoxyCodeLine{159     \textcolor{keyword}{const} \mbox{\hyperlink{a01141_aa3ecebd0be1a26600e54c0adaa46d74d}{ParameterTypeRaw}} \&\mbox{\hyperlink{a01141_a040ef8c38857afd83c10024931a3b436}{getParameter}}(FEParameter \&\&key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{160       \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{161         \textcolor{keywordflow}{return} parameter.at(key).get();}
\DoxyCodeLine{162       \} \textcolor{keywordflow}{catch} (std::out\_of\_range \&oor) \{}
\DoxyCodeLine{163         DUNE\_THROW(Dune::RangeError, std::string(\textcolor{stringliteral}{"{}Out of Range error: "{}}) + std::string(oor.what())}
\DoxyCodeLine{164                                          + \textcolor{stringliteral}{"{} in getParameter with key"{}} + toString(key));}
\DoxyCodeLine{165         abort();}
\DoxyCodeLine{166       \}}
\DoxyCodeLine{167     \}}
\DoxyCodeLine{168 }
\DoxyCodeLine{169     \textcolor{keyword}{template} <FEAffordance Affordance>}
\DoxyCodeLine{170     \textcolor{keywordtype}{bool} \mbox{\hyperlink{a01141_aa778ca2fcb44341b76641c23852c9092}{hasAffordance}}(Affordance \&\&affordance)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{171       \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<Affordance, ScalarAffordances>)}
\DoxyCodeLine{172         \textcolor{keywordflow}{return} affordances.\mbox{\hyperlink{a01125_a516061663dea71c22750abaf2175f6d5}{scalarAffordances}} == affordance;}
\DoxyCodeLine{173       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<Affordance, VectorAffordances>)}
\DoxyCodeLine{174         \textcolor{keywordflow}{return} affordances.\mbox{\hyperlink{a01125_a02e0fc97626b53e154bee9121582a69b}{vectorAffordances}} == affordance;}
\DoxyCodeLine{175       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<Affordance, MatrixAffordances>)}
\DoxyCodeLine{176         \textcolor{keywordflow}{return} affordances.\mbox{\hyperlink{a01125_afe3707101cc945fda75d93821846399b}{matrixAffordances}} == affordance;}
\DoxyCodeLine{177       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<Affordance, AffordanceCollectionImpl>)}
\DoxyCodeLine{178         \textcolor{keywordflow}{return} affordances == affordance;}
\DoxyCodeLine{179     \}}
\DoxyCodeLine{180 }
\DoxyCodeLine{181   \textcolor{keyword}{private}:}
\DoxyCodeLine{182     std::map<FESolutions, SolutionVectorType> sols;}
\DoxyCodeLine{183     std::map<FEParameter, ParameterType> parameter;}
\DoxyCodeLine{184     \mbox{\hyperlink{a01125}{AffordanceCollectionImpl}} affordances;}
\DoxyCodeLine{185   \};}
\DoxyCodeLine{186 }
\DoxyCodeLine{187   \textcolor{keyword}{template} <\textcolor{keyword}{typename} ParameterType = \textcolor{keywordtype}{double}>}
\DoxyCodeLine{188   \textcolor{keyword}{class }\mbox{\hyperlink{a01145}{ResultTypeMap}} \{}
\DoxyCodeLine{189   \textcolor{keyword}{public}:}
\DoxyCodeLine{190     \textcolor{keyword}{using }\mbox{\hyperlink{a01145_a72132ad19ec7049750ba2c4f60cde93f}{ResultArray}} = Eigen::Matrix<ParameterType, Eigen::Dynamic, Eigen::Dynamic, 0, 9, 3>;}
\DoxyCodeLine{191     \textcolor{keywordtype}{void} \mbox{\hyperlink{a01145_aa399a96000daf40950e388eb0b23a7c0}{insertOrAssignResult}}(ResultType \&\&resultType, \textcolor{keyword}{const} \mbox{\hyperlink{a01145_a72132ad19ec7049750ba2c4f60cde93f}{ResultArray}} \&resultArray) \{}
\DoxyCodeLine{192       results.insert\_or\_assign(resultType, resultArray);}
\DoxyCodeLine{193     \}}
\DoxyCodeLine{194 }
\DoxyCodeLine{195     \mbox{\hyperlink{a01145_a72132ad19ec7049750ba2c4f60cde93f}{ResultArray}} \&\mbox{\hyperlink{a01145_a7f9a61700e42a5507d7dfcfd059a4067}{getResult}}(\textcolor{keyword}{const} ResultType \&resultType) \{ \textcolor{keywordflow}{return} results.at(resultType); \}}
\DoxyCodeLine{196 }
\DoxyCodeLine{197     \textcolor{keyword}{auto} \&\mbox{\hyperlink{a01145_a6c2c52fc90ff0af02def08b0c8f5deb2}{getSingleResult}}() \{}
\DoxyCodeLine{198       \textcolor{keywordflow}{if} (results.size() != 1)}
\DoxyCodeLine{199         DUNE\_THROW(Dune::RangeError, \textcolor{stringliteral}{"{}getSingleResult can only be called when a single result was inserted"{}});}
\DoxyCodeLine{200       \textcolor{keywordflow}{else}}
\DoxyCodeLine{201         \textcolor{keywordflow}{return} *(results.begin());}
\DoxyCodeLine{202     \}}
\DoxyCodeLine{203 }
\DoxyCodeLine{204   \textcolor{keyword}{private}:}
\DoxyCodeLine{205     std::map<ResultType, ResultArray> results;}
\DoxyCodeLine{206   \};}
\DoxyCodeLine{207 }
\DoxyCodeLine{208   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Type>}
\DoxyCodeLine{209   \textcolor{keyword}{concept }\mbox{\hyperlink{a01555}{ResultTypeConcept}} = std::is\_same\_v<Type, ResultType>;}
\DoxyCodeLine{210 }
\DoxyCodeLine{211   \textcolor{keyword}{template} <\textcolor{keyword}{typename} FErequirements = FErequirements<>>}
\DoxyCodeLine{212   \textcolor{keyword}{class }\mbox{\hyperlink{a01149}{ResultRequirements}} \{}
\DoxyCodeLine{213   \textcolor{keyword}{public}:}
\DoxyCodeLine{214     \textcolor{keyword}{using }\mbox{\hyperlink{a01149_a249d873676137eb115f5451427f7503e}{ParameterTypeRaw}}      = \textcolor{keyword}{typename} \mbox{\hyperlink{a01141_aa3ecebd0be1a26600e54c0adaa46d74d}{FErequirements::ParameterTypeRaw}};}
\DoxyCodeLine{215     \textcolor{keyword}{using }\mbox{\hyperlink{a01149_ade5c36f80718337e7f4ef4ae8b391146}{SolutionVectorType}}    = \textcolor{keyword}{typename} \mbox{\hyperlink{a01141_a410aab421a30588621b0186225dbe3bd}{FErequirements::SolutionVectorType}};}
\DoxyCodeLine{216     \textcolor{keyword}{using }\mbox{\hyperlink{a01149_a666b1e8176883471623c42d37211dbbc}{SolutionVectorTypeRaw}} = \textcolor{keyword}{typename} \mbox{\hyperlink{a01141_afe01a23ad3c9115402dbf4590ace78d9}{FErequirements::SolutionVectorTypeRaw}};}
\DoxyCodeLine{217 }
\DoxyCodeLine{218     \mbox{\hyperlink{a01149_ae63816b06a691101db0313dab0d4ce0f}{ResultRequirements}}(\mbox{\hyperlink{a01141}{FErequirements}} \&\&req, std::set<ResultType> \&\&p\_resType)}
\DoxyCodeLine{219         : reqB\{req\}, resType(std::move(p\_resType)) \{\}}
\DoxyCodeLine{220 }
\DoxyCodeLine{221     \textcolor{keyword}{explicit} \mbox{\hyperlink{a01149_a0c1bc6b4652926a39d20c8488c297317}{ResultRequirements}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01141}{FErequirements}} \&req) : reqB\{req\} \{\}}
\DoxyCodeLine{222 }
\DoxyCodeLine{223     \mbox{\hyperlink{a01149_a09b6184e9fa1587fd23d29298e1dd15b}{ResultRequirements}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{224     \textcolor{keywordtype}{bool} \mbox{\hyperlink{a01149_a3d41a3aca3b508538bed0246af51e8c4}{isResultRequested}}(ResultType \&\&key)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} resType.contains(key); \}}
\DoxyCodeLine{225 }
\DoxyCodeLine{226     \textcolor{keyword}{template} <FEAffordance Affordance>}
\DoxyCodeLine{227     \mbox{\hyperlink{a01149}{ResultRequirements}} \&\mbox{\hyperlink{a01149_a766f4be341a9daf3ac3af27888778eeb}{addAffordance}}(Affordance \&\&affordance) \{}
\DoxyCodeLine{228       reqB.\mbox{\hyperlink{a01141_ac0e6b621432e3afb64b5f2fe16a4f882}{addAffordance}}(std::forward<Affordance>(affordance));}
\DoxyCodeLine{229       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{230     \}}
\DoxyCodeLine{231 }
\DoxyCodeLine{232     \mbox{\hyperlink{a01149}{ResultRequirements}} \&\mbox{\hyperlink{a01149_a3fbc8b71e9463eb2aff7afa73db77023}{insertParameter}}(FEParameter \&\&key, \mbox{\hyperlink{a01149_a249d873676137eb115f5451427f7503e}{ParameterTypeRaw}} \&val) \{}
\DoxyCodeLine{233       reqB.\mbox{\hyperlink{a01141_a6c148439a43c22ae70d654b54706be02}{insertParameter}}(std::forward<FEParameter>(key), val);}
\DoxyCodeLine{234       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{235     \}}
\DoxyCodeLine{236 }
\DoxyCodeLine{237     \mbox{\hyperlink{a01149}{ResultRequirements}} \&\mbox{\hyperlink{a01149_ac70755df382d8f81da6abbaa1c2e5199}{insertGlobalSolution}}(FESolutions \&\&key, \mbox{\hyperlink{a01149_a666b1e8176883471623c42d37211dbbc}{SolutionVectorTypeRaw}} \&sol) \{}
\DoxyCodeLine{238       reqB.\mbox{\hyperlink{a01141_a7da74676b3cc00ac87c05de5a295ebe2}{insertGlobalSolution}}(std::forward<FESolutions>(key), sol);}
\DoxyCodeLine{239       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{240     \}}
\DoxyCodeLine{241 }
\DoxyCodeLine{242     \textcolor{keyword}{template} <\mbox{\hyperlink{a01555}{ResultTypeConcept}}... ResultTypes>}
\DoxyCodeLine{243     \mbox{\hyperlink{a01149}{ResultRequirements}} \&\mbox{\hyperlink{a01149_a4463dd0234f9e0fb75454d1385f80fd2}{addResultRequest}}(ResultTypes \&\&...keys) \{}
\DoxyCodeLine{244       resType.insert(\{std::move(keys)...\});}
\DoxyCodeLine{245       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{246     \}}
\DoxyCodeLine{247 }
\DoxyCodeLine{248     \textcolor{keyword}{const} \mbox{\hyperlink{a01149_a666b1e8176883471623c42d37211dbbc}{SolutionVectorTypeRaw}} \&\mbox{\hyperlink{a01149_ad587482320609b1ab17c82b094000d08}{getGlobalSolution}}(FESolutions \&\&key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{249       \textcolor{keywordflow}{return} reqB.\mbox{\hyperlink{a01141_a6b9d77c43bcb665126cd6aa7a17b8ce0}{getGlobalSolution}}(std::move(key));}
\DoxyCodeLine{250     \}}
\DoxyCodeLine{251 }
\DoxyCodeLine{252     \textcolor{keyword}{const} \mbox{\hyperlink{a01149_a249d873676137eb115f5451427f7503e}{ParameterTypeRaw}} \&\mbox{\hyperlink{a01149_a6117237834b64f1ebaecafcd282f4d4b}{getParameter}}(FEParameter \&\&key)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} reqB.\mbox{\hyperlink{a01141_a040ef8c38857afd83c10024931a3b436}{getParameter}}(std::move(key)); \}}
\DoxyCodeLine{253 }
\DoxyCodeLine{254     \textcolor{keyword}{const} \mbox{\hyperlink{a01141}{FErequirements}} \&\mbox{\hyperlink{a01149_a84cdc0f3d956bf0f425d0688bfd1e653}{getFERequirements}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} reqB; \}}
\DoxyCodeLine{255 }
\DoxyCodeLine{256     \textcolor{keyword}{auto} \mbox{\hyperlink{a01149_ad622d1a543d8508029519eb401cade0a}{getRequestedResult}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{257       \textcolor{keywordflow}{if} (resType.size() == 1)}
\DoxyCodeLine{258         \textcolor{keywordflow}{return} *(resType.begin());}
\DoxyCodeLine{259       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{260         DUNE\_THROW(Dune::InvalidStateException, \textcolor{stringliteral}{"{}This function can only be called when a single result is requested"{}});}
\DoxyCodeLine{261       \}}
\DoxyCodeLine{262     \}}
\DoxyCodeLine{263 }
\DoxyCodeLine{264   \textcolor{keyword}{private}:}
\DoxyCodeLine{265     std::set<ResultType> resType;}
\DoxyCodeLine{266     \mbox{\hyperlink{a01141}{FErequirements}} reqB;}
\DoxyCodeLine{267   \};}
\DoxyCodeLine{268 }
\DoxyCodeLine{269 \}  \textcolor{comment}{// namespace Ikarus}}

\end{DoxyCode}
