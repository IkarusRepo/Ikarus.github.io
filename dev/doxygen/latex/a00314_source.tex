\hypertarget{a00314_source}{}\doxysection{assemblermanipulatorfuser.\+hh}
\label{a00314_source}\index{assemblermanipulatorfuser.hh@{assemblermanipulatorfuser.hh}}
\mbox{\hyperlink{a00314}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// SPDX-\/FileCopyrightText: 2021-\/2024 The Ikarus Developers mueller@ibb.uni-\/stuttgart.de}}
\DoxyCodeLine{2 \textcolor{comment}{// SPDX-\/License-\/Identifier: LGPL-\/3.0-\/or-\/later}}
\DoxyCodeLine{3 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00311}{ikarus/assembler/assemblermanipulatorbuildingblocks.hh}}>}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00360}{Ikarus}} \{}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{namespace }Impl \{}
\DoxyCodeLine{15   \textcolor{keyword}{template} <\textcolor{keyword}{template} <\textcolor{keyword}{typename}, \textcolor{keyword}{typename}, \textcolor{keyword}{typename}, \textcolor{keyword}{typename}> \textcolor{keyword}{typename} AInterface,}
\DoxyCodeLine{16             \textcolor{keyword}{template} <\textcolor{keyword}{typename} Wrapper, \textcolor{keyword}{typename} Assembler> \textcolor{keyword}{typename} AImplementation>}
\DoxyCodeLine{17   \textcolor{keyword}{struct }AssemblerInterfaceHelper}
\DoxyCodeLine{18   \{}
\DoxyCodeLine{19     \textcolor{keyword}{template} <\textcolor{keyword}{typename} WA, \textcolor{keyword}{typename} A, \textcolor{keyword}{typename} ReturnValueType>}
\DoxyCodeLine{20     \textcolor{keyword}{using }Interface = AInterface<WA, typename A::FEContainer, typename A::DirichletValuesType, ReturnValueType>;}
\DoxyCodeLine{21     \textcolor{keyword}{template} <\textcolor{keyword}{typename} WA, \textcolor{keyword}{typename} A>}
\DoxyCodeLine{22     \textcolor{keyword}{using }Implementation = AImplementation<WA, A>;}
\DoxyCodeLine{23   \};}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \} \textcolor{comment}{// namespace Impl}}
\DoxyCodeLine{35 \textcolor{comment}{}\textcolor{keyword}{template} <Concepts::FlatAssembler A, \textcolor{keyword}{typename}... Ass>}
\DoxyCodeLine{36 \textcolor{keyword}{class }\mbox{\hyperlink{a01221}{AssemblerManipulator}};}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 \textcolor{preprocessor}{\#define BASECLASSMEMBERFUNCTION(func, A)         \(\backslash\)}}
\DoxyCodeLine{39 \textcolor{preprocessor}{  template <typename... Args>                    \(\backslash\)}}
\DoxyCodeLine{40 \textcolor{preprocessor}{  decltype(auto) base\_\#\#func(Args... args) \{     \(\backslash\)}}
\DoxyCodeLine{41 \textcolor{preprocessor}{    return A::func(std::forward<Args>(args)...); \(\backslash\)}}
\DoxyCodeLine{42 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{43 }
\DoxyCodeLine{52 \textcolor{keyword}{template} <Concepts::FlatAssembler A, \textcolor{keyword}{typename} ScalarAss>}
\DoxyCodeLine{53 \textcolor{keyword}{class }\mbox{\hyperlink{a01221}{AssemblerManipulator}}<A, ScalarAss>}
\DoxyCodeLine{54     : \textcolor{keyword}{public} ScalarAss::template Interface<AssemblerManipulator<A, ScalarAss>, A, typename A::ScalarType>,}
\DoxyCodeLine{55       \textcolor{keyword}{public} ScalarAss::template Implementation<AssemblerManipulator<A, ScalarAss>, A>,}
\DoxyCodeLine{56       \textcolor{keyword}{private} A}
\DoxyCodeLine{57 \{}
\DoxyCodeLine{58 \textcolor{keyword}{public}:}
\DoxyCodeLine{59   \textcolor{keyword}{using }\mbox{\hyperlink{a01225_aeaad22dd904f173dd227a85ccb7f63a4}{WrappedAssembler}} = A;}
\DoxyCodeLine{60 }
\DoxyCodeLine{61 \textcolor{keyword}{protected}:}
\DoxyCodeLine{62   \textcolor{keyword}{using }\mbox{\hyperlink{a01225_ae4ed17fb7f07d2e51a7d9c358452e551}{ScalarAssemblerImpl}}      = ScalarAss::template Implementation<AssemblerManipulator, WrappedAssembler>;}
\DoxyCodeLine{63   \textcolor{keyword}{using }\mbox{\hyperlink{a01225_a260e635e4fac77e9f19ea8a460e19a64}{ScalarAssemblerInterface}} = ScalarAss::template Interface<AssemblerManipulator, A, typename A::ScalarType>;}
\DoxyCodeLine{64 }
\DoxyCodeLine{65   \textcolor{keyword}{friend} \mbox{\hyperlink{a01225_ab64a9c8c9de782ad8eb2a7474af6a6b8}{ScalarAssemblerImpl}};}
\DoxyCodeLine{66   \textcolor{keyword}{friend} \mbox{\hyperlink{a01225_adbb012d9d185dc929dafa6e7b20b3c57}{ScalarAssemblerInterface}};}
\DoxyCodeLine{67 }
\DoxyCodeLine{68 \textcolor{keyword}{public}:}
\DoxyCodeLine{69   \textcolor{comment}{// typdefs from FlatAssemblerBase}}
\DoxyCodeLine{70   \textcolor{keyword}{using }typename WrappedAssembler::AffordanceCollectionType;}
\DoxyCodeLine{71   \textcolor{keyword}{using }typename WrappedAssembler::Basis;}
\DoxyCodeLine{72   \textcolor{keyword}{using }typename WrappedAssembler::DirichletValuesType;}
\DoxyCodeLine{73   \textcolor{keyword}{using }typename WrappedAssembler::FEContainer;}
\DoxyCodeLine{74   \textcolor{keyword}{using }typename WrappedAssembler::FERequirement;}
\DoxyCodeLine{75   \textcolor{keyword}{using }typename WrappedAssembler::ScalarType;}
\DoxyCodeLine{76   \textcolor{keyword}{using }typename WrappedAssembler::SizeType;}
\DoxyCodeLine{77 }
\DoxyCodeLine{78   \textcolor{comment}{// functions from FlatAssemblerBase}}
\DoxyCodeLine{79   \textcolor{keyword}{using }WrappedAssembler::bind;}
\DoxyCodeLine{80   \textcolor{keyword}{using }WrappedAssembler::bound;}
\DoxyCodeLine{81   \textcolor{keyword}{using }WrappedAssembler::boundToAffordanceCollection;}
\DoxyCodeLine{82   \textcolor{keyword}{using }WrappedAssembler::boundToDBCOption;}
\DoxyCodeLine{83   \textcolor{keyword}{using }WrappedAssembler::boundToRequirement;}
\DoxyCodeLine{84   \textcolor{keyword}{using }WrappedAssembler::createFullVector;}
\DoxyCodeLine{85 }
\DoxyCodeLine{86   \textcolor{keyword}{using }WrappedAssembler::affordanceCollection;}
\DoxyCodeLine{87   \textcolor{keyword}{using }WrappedAssembler::constraintsBelow;}
\DoxyCodeLine{88   \textcolor{keyword}{using }WrappedAssembler::dBCOption;}
\DoxyCodeLine{89   \textcolor{keyword}{using }WrappedAssembler::estimateOfConnectivity;}
\DoxyCodeLine{90   \textcolor{keyword}{using }WrappedAssembler::isConstrained;}
\DoxyCodeLine{91   \textcolor{keyword}{using }WrappedAssembler::reducedSize;}
\DoxyCodeLine{92   \textcolor{keyword}{using }WrappedAssembler::requirement;}
\DoxyCodeLine{93   \textcolor{keyword}{using }WrappedAssembler::size;}
\DoxyCodeLine{94 }
\DoxyCodeLine{95   \textcolor{comment}{// functions from implementations}}
\DoxyCodeLine{96   \textcolor{keyword}{using }ScalarAssemblerImpl::bind;}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{keyword}{private}:}
\DoxyCodeLine{99   \textcolor{keyword}{using }ScalarAssemblerImpl::getScalarImpl;}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 \textcolor{keyword}{public}:}
\DoxyCodeLine{102   \textcolor{comment}{// functions from interfaces of the new manipulator assembler}}
\DoxyCodeLine{103   \textcolor{keyword}{using }ScalarAssemblerInterface::scalar;}
\DoxyCodeLine{104 }
\DoxyCodeLine{105   \textcolor{keyword}{using }\mbox{\hyperlink{a01225_a8b10e4fc60d5a41a51056800153a3288}{CallBackTypes}} =}
\DoxyCodeLine{106       std::tuple<typename ScalarAss::template Implementation<AssemblerManipulator<A, ScalarAss>, A>::FunctionType>;}
\DoxyCodeLine{107 }
\DoxyCodeLine{114   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{115   \textcolor{keyword}{requires}(not std::is\_same\_v<std::remove\_cvref\_t<std::tuple\_element\_t<0, std::tuple<Args...>>>, \mbox{\hyperlink{a01221}{AssemblerManipulator}}>)}
\DoxyCodeLine{116   \textcolor{keyword}{explicit} \mbox{\hyperlink{a01225_a502e5187d87b7a8062903ca3608042ec}{AssemblerManipulator}}(Args\&\&... args)}
\DoxyCodeLine{117       : \mbox{\hyperlink{a01225_aeaad22dd904f173dd227a85ccb7f63a4}{WrappedAssembler}}(std::forward<Args>(args)...) \{\}}
\DoxyCodeLine{118 }
\DoxyCodeLine{119 \textcolor{keyword}{private}:}
\DoxyCodeLine{120   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getScalarImpl, A)}
\DoxyCodeLine{121 }
\DoxyCodeLine{122   A\& base() \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}}
\DoxyCodeLine{123   \textcolor{keyword}{const} A\& base()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}}
\DoxyCodeLine{124 \};}
\DoxyCodeLine{125 }
\DoxyCodeLine{135 \textcolor{keyword}{template} <Concepts::FlatAssembler A, \textcolor{keyword}{typename} ScalarAss, \textcolor{keyword}{typename} VectorAss>}
\DoxyCodeLine{136 \textcolor{keyword}{class }\mbox{\hyperlink{a01221}{AssemblerManipulator}}<A, ScalarAss, VectorAss>}
\DoxyCodeLine{137     : \textcolor{keyword}{public} ScalarAss::template Interface<AssemblerManipulator<A, ScalarAss, VectorAss>, A, typename A::ScalarType>,}
\DoxyCodeLine{138       \textcolor{keyword}{public} ScalarAss::template Implementation<AssemblerManipulator<A, ScalarAss, VectorAss>, A>,}
\DoxyCodeLine{139       \textcolor{keyword}{public} VectorAss::template Interface<AssemblerManipulator<A, ScalarAss, VectorAss>, A, typename A::VectorType>,}
\DoxyCodeLine{140       \textcolor{keyword}{public} VectorAss::template Implementation<AssemblerManipulator<A, ScalarAss, VectorAss>, A>,}
\DoxyCodeLine{141       \textcolor{keyword}{private} A}
\DoxyCodeLine{142 \{}
\DoxyCodeLine{143 \textcolor{keyword}{public}:}
\DoxyCodeLine{144   \textcolor{keyword}{using }\mbox{\hyperlink{a01229_a23910dd23aec1d66ae2163ae5c3feff2}{WrappedAssembler}} = A;}
\DoxyCodeLine{145 }
\DoxyCodeLine{146 \textcolor{keyword}{protected}:}
\DoxyCodeLine{147   \textcolor{keyword}{using }\mbox{\hyperlink{a01229_ad548d9c186819f0b92a304cc2f055ea5}{ScalarAssemblerImpl}}      = ScalarAss::template Implementation<AssemblerManipulator, WrappedAssembler>;}
\DoxyCodeLine{148   \textcolor{keyword}{using }\mbox{\hyperlink{a01229_a34f8528f5c053818af2178851cc31b81}{VectorAssemblerImpl}}      = VectorAss::template Implementation<AssemblerManipulator, WrappedAssembler>;}
\DoxyCodeLine{149   \textcolor{keyword}{using }\mbox{\hyperlink{a01229_ad011335ef113c9289854486361e6590c}{ScalarAssemblerInterface}} = ScalarAss::template Interface<AssemblerManipulator, A, typename A::ScalarType>;}
\DoxyCodeLine{150   \textcolor{keyword}{using }\mbox{\hyperlink{a01229_a1009f6d702cf0d1dcf20816174a6b52a}{VectorAssemblerInterface}} = VectorAss::template Interface<AssemblerManipulator, A, typename A::VectorType>;}
\DoxyCodeLine{151 }
\DoxyCodeLine{152   \textcolor{keyword}{friend} \mbox{\hyperlink{a01229_a073d6709deb7c8af88e80d78a9d9d52e}{ScalarAssemblerImpl}};}
\DoxyCodeLine{153   \textcolor{keyword}{friend} \mbox{\hyperlink{a01229_a9a0d3c2f6a5fbb66d3ec88793685bcd4}{VectorAssemblerImpl}};}
\DoxyCodeLine{154   \textcolor{keyword}{friend} \mbox{\hyperlink{a01229_a0110ff846e287a2e9bec794c35d94bc2}{ScalarAssemblerInterface}};}
\DoxyCodeLine{155   \textcolor{keyword}{friend} \mbox{\hyperlink{a01229_add1c52fad1611dd03df81b50797a3540}{VectorAssemblerInterface}};}
\DoxyCodeLine{156 }
\DoxyCodeLine{157 \textcolor{keyword}{public}:}
\DoxyCodeLine{158   \textcolor{comment}{// typdefs from FlatAssemblerBase}}
\DoxyCodeLine{159   \textcolor{keyword}{using }typename WrappedAssembler::AffordanceCollectionType;}
\DoxyCodeLine{160   \textcolor{keyword}{using }typename WrappedAssembler::Basis;}
\DoxyCodeLine{161   \textcolor{keyword}{using }typename WrappedAssembler::DirichletValuesType;}
\DoxyCodeLine{162   \textcolor{keyword}{using }typename WrappedAssembler::FEContainer;}
\DoxyCodeLine{163   \textcolor{keyword}{using }typename WrappedAssembler::FERequirement;}
\DoxyCodeLine{164   \textcolor{keyword}{using }typename WrappedAssembler::ScalarType;}
\DoxyCodeLine{165   \textcolor{keyword}{using }typename WrappedAssembler::SizeType;}
\DoxyCodeLine{166   \textcolor{keyword}{using }typename WrappedAssembler::VectorType;}
\DoxyCodeLine{167 }
\DoxyCodeLine{168   \textcolor{comment}{// functions from FlatAssemblerBase}}
\DoxyCodeLine{169   \textcolor{keyword}{using }WrappedAssembler::bind;}
\DoxyCodeLine{170   \textcolor{keyword}{using }WrappedAssembler::bound;}
\DoxyCodeLine{171   \textcolor{keyword}{using }WrappedAssembler::boundToAffordanceCollection;}
\DoxyCodeLine{172   \textcolor{keyword}{using }WrappedAssembler::boundToDBCOption;}
\DoxyCodeLine{173   \textcolor{keyword}{using }WrappedAssembler::boundToRequirement;}
\DoxyCodeLine{174   \textcolor{keyword}{using }WrappedAssembler::createFullVector;}
\DoxyCodeLine{175 }
\DoxyCodeLine{176   \textcolor{keyword}{using }WrappedAssembler::affordanceCollection;}
\DoxyCodeLine{177   \textcolor{keyword}{using }WrappedAssembler::constraintsBelow;}
\DoxyCodeLine{178   \textcolor{keyword}{using }WrappedAssembler::dBCOption;}
\DoxyCodeLine{179   \textcolor{keyword}{using }WrappedAssembler::estimateOfConnectivity;}
\DoxyCodeLine{180   \textcolor{keyword}{using }WrappedAssembler::isConstrained;}
\DoxyCodeLine{181   \textcolor{keyword}{using }WrappedAssembler::reducedSize;}
\DoxyCodeLine{182   \textcolor{keyword}{using }WrappedAssembler::requirement;}
\DoxyCodeLine{183   \textcolor{keyword}{using }WrappedAssembler::size;}
\DoxyCodeLine{184 }
\DoxyCodeLine{185   \textcolor{comment}{// functions from implementations}}
\DoxyCodeLine{186   \textcolor{keyword}{using }ScalarAssemblerImpl::bind;}
\DoxyCodeLine{187   \textcolor{keyword}{using }VectorAssemblerImpl::bind;}
\DoxyCodeLine{188 }
\DoxyCodeLine{189 \textcolor{keyword}{private}:}
\DoxyCodeLine{190   \textcolor{keyword}{using }ScalarAssemblerImpl::getScalarImpl;}
\DoxyCodeLine{191   \textcolor{keyword}{using }VectorAssemblerImpl::getRawVectorImpl;}
\DoxyCodeLine{192   \textcolor{keyword}{using }VectorAssemblerImpl::getReducedVectorImpl;}
\DoxyCodeLine{193   \textcolor{keyword}{using }VectorAssemblerImpl::getVectorImpl;}
\DoxyCodeLine{194 }
\DoxyCodeLine{195 \textcolor{keyword}{public}:}
\DoxyCodeLine{196   \textcolor{comment}{// functions from interfaces of the new manipulator assembler}}
\DoxyCodeLine{197   \textcolor{keyword}{using }ScalarAssemblerInterface::scalar;}
\DoxyCodeLine{198   \textcolor{keyword}{using }VectorAssemblerInterface::vector;}
\DoxyCodeLine{199 }
\DoxyCodeLine{200   \textcolor{keyword}{using }\mbox{\hyperlink{a01229_a548596506a305bb51457e888633857ef}{CallBackTypes}} =}
\DoxyCodeLine{201       std::tuple<typename ScalarAssemblerImpl::FunctionType, typename VectorAssemblerImpl::FunctionType>;}
\DoxyCodeLine{202 }
\DoxyCodeLine{209   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{210   \textcolor{keyword}{requires}(not std::is\_same\_v<std::remove\_cvref\_t<std::tuple\_element\_t<0, std::tuple<Args...>>>, \mbox{\hyperlink{a01221}{AssemblerManipulator}}>)}
\DoxyCodeLine{211   \textcolor{keyword}{explicit} \mbox{\hyperlink{a01229_aa7a37ed96edb529292f6d5c76f771d92}{AssemblerManipulator}}(Args\&\&... args)}
\DoxyCodeLine{212       : \mbox{\hyperlink{a01229_a23910dd23aec1d66ae2163ae5c3feff2}{WrappedAssembler}}(std::forward<Args>(args)...) \{\}}
\DoxyCodeLine{213 }
\DoxyCodeLine{214 \textcolor{keyword}{private}:}
\DoxyCodeLine{215   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getScalarImpl, WrappedAssembler)}
\DoxyCodeLine{216   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getRawVectorImpl, WrappedAssembler)}
\DoxyCodeLine{217   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getReducedVectorImpl, WrappedAssembler)}
\DoxyCodeLine{218   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getVectorImpl, WrappedAssembler)}
\DoxyCodeLine{219 }
\DoxyCodeLine{220   WrappedAssembler\& base() \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}}
\DoxyCodeLine{221   \textcolor{keyword}{const} WrappedAssembler\& base()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}}
\DoxyCodeLine{222 \};}
\DoxyCodeLine{223 }
\DoxyCodeLine{234 \textcolor{keyword}{template} <Concepts::FlatAssembler A, \textcolor{keyword}{typename} ScalarAss, \textcolor{keyword}{typename} VectorAss, \textcolor{keyword}{typename} MatrixAss>}
\DoxyCodeLine{235 \textcolor{keyword}{class }\mbox{\hyperlink{a01221}{AssemblerManipulator}}<A, ScalarAss, VectorAss, MatrixAss>}
\DoxyCodeLine{236     : \textcolor{keyword}{public} ScalarAss::template Interface<AssemblerManipulator<A, ScalarAss, VectorAss, MatrixAss>, A,}
\DoxyCodeLine{237                                            typename A::ScalarType>,}
\DoxyCodeLine{238       \textcolor{keyword}{public} ScalarAss::template Implementation<AssemblerManipulator<A, ScalarAss, VectorAss, MatrixAss>, A>,}
\DoxyCodeLine{239       \textcolor{keyword}{public} VectorAss::template Interface<AssemblerManipulator<A, ScalarAss, VectorAss, MatrixAss>, A,}
\DoxyCodeLine{240                                            typename A::VectorType>,}
\DoxyCodeLine{241       \textcolor{keyword}{public} VectorAss::template Implementation<AssemblerManipulator<A, ScalarAss, VectorAss, MatrixAss>, A>,}
\DoxyCodeLine{242       \textcolor{keyword}{public} MatrixAss::template Interface<AssemblerManipulator<A, ScalarAss, VectorAss, MatrixAss>, A,}
\DoxyCodeLine{243                                            typename A::MatrixType>,}
\DoxyCodeLine{244       \textcolor{keyword}{public} MatrixAss::template Implementation<AssemblerManipulator<A, ScalarAss, VectorAss, MatrixAss>, A>,}
\DoxyCodeLine{245       \textcolor{keyword}{private} A}
\DoxyCodeLine{246 \{}
\DoxyCodeLine{247 \textcolor{keyword}{public}:}
\DoxyCodeLine{248   \textcolor{keyword}{using }\mbox{\hyperlink{a01233_a62123a4b3e6532f92f9126bbb6ce90a7}{WrappedAssembler}} = A;}
\DoxyCodeLine{249 }
\DoxyCodeLine{250 \textcolor{keyword}{protected}:}
\DoxyCodeLine{251   \textcolor{keyword}{using }\mbox{\hyperlink{a01233_ae6e112a7cb6a5167ba97b53bb5c7d238}{ScalarAssemblerImpl}}      = ScalarAss::template Implementation<AssemblerManipulator, A>;}
\DoxyCodeLine{252   \textcolor{keyword}{using }\mbox{\hyperlink{a01233_ae958fb1ffccb3bd993d73cdf2b404705}{VectorAssemblerImpl}}      = VectorAss::template Implementation<AssemblerManipulator, A>;}
\DoxyCodeLine{253   \textcolor{keyword}{using }\mbox{\hyperlink{a01233_a4d15f9b228606ffd26ae5b511cd95ff3}{MatrixAssemblerImpl}}      = MatrixAss::template Implementation<AssemblerManipulator, A>;}
\DoxyCodeLine{254   \textcolor{keyword}{using }\mbox{\hyperlink{a01233_a111dfa9dc910a06976a89677d7275575}{ScalarAssemblerInterface}} = ScalarAss::template Interface<AssemblerManipulator, A, typename A::ScalarType>;}
\DoxyCodeLine{255   \textcolor{keyword}{using }\mbox{\hyperlink{a01233_a6cf604621f5a5391f9e79967b8977eb5}{VectorAssemblerInterface}} = VectorAss::template Interface<AssemblerManipulator, A, typename A::VectorType>;}
\DoxyCodeLine{256   \textcolor{keyword}{using }\mbox{\hyperlink{a01233_a6a7c3a2c35ff4ef52ce0d3b4e304ed54}{MatrixAssemblerInterface}} = MatrixAss::template Interface<AssemblerManipulator, A, typename A::MatrixType>;}
\DoxyCodeLine{257 }
\DoxyCodeLine{258   \textcolor{keyword}{friend} \mbox{\hyperlink{a01233_a71d8c2e510825482ad8b865cdcc97865}{ScalarAssemblerImpl}};}
\DoxyCodeLine{259   \textcolor{keyword}{friend} \mbox{\hyperlink{a01233_a58429a8398105c51c4582c1b72d7bc8c}{VectorAssemblerImpl}};}
\DoxyCodeLine{260   \textcolor{keyword}{friend} \mbox{\hyperlink{a01233_a8218e9d8992798ad9d6377ee9c171f04}{MatrixAssemblerImpl}};}
\DoxyCodeLine{261   \textcolor{keyword}{friend} \mbox{\hyperlink{a01233_a81430cd85aea660bdbbf36e6ec5a5499}{MatrixAssemblerInterface}};}
\DoxyCodeLine{262   \textcolor{keyword}{friend} \mbox{\hyperlink{a01233_af20b695138ce2baa088d243c56b8a5fe}{ScalarAssemblerInterface}};}
\DoxyCodeLine{263   \textcolor{keyword}{friend} \mbox{\hyperlink{a01233_a7122782f660bef5b917c0c566e791759}{VectorAssemblerInterface}};}
\DoxyCodeLine{264 }
\DoxyCodeLine{265 \textcolor{keyword}{public}:}
\DoxyCodeLine{266   \textcolor{comment}{// typdefs from FlatAssemblerBase}}
\DoxyCodeLine{267   \textcolor{keyword}{using }typename WrappedAssembler::AffordanceCollectionType;}
\DoxyCodeLine{268   \textcolor{keyword}{using }typename WrappedAssembler::Basis;}
\DoxyCodeLine{269   \textcolor{keyword}{using }typename WrappedAssembler::DirichletValuesType;}
\DoxyCodeLine{270   \textcolor{keyword}{using }typename WrappedAssembler::FEContainer;}
\DoxyCodeLine{271   \textcolor{keyword}{using }typename WrappedAssembler::FERequirement;}
\DoxyCodeLine{272   \textcolor{keyword}{using }typename WrappedAssembler::MatrixType;}
\DoxyCodeLine{273   \textcolor{keyword}{using }typename WrappedAssembler::ScalarType;}
\DoxyCodeLine{274   \textcolor{keyword}{using }typename WrappedAssembler::SizeType;}
\DoxyCodeLine{275   \textcolor{keyword}{using }typename WrappedAssembler::VectorType;}
\DoxyCodeLine{276 }
\DoxyCodeLine{277   \textcolor{comment}{// functions from FlatAssemblerBase}}
\DoxyCodeLine{278   \textcolor{keyword}{using }WrappedAssembler::bind;}
\DoxyCodeLine{279   \textcolor{keyword}{using }WrappedAssembler::bound;}
\DoxyCodeLine{280   \textcolor{keyword}{using }WrappedAssembler::boundToAffordanceCollection;}
\DoxyCodeLine{281   \textcolor{keyword}{using }WrappedAssembler::boundToDBCOption;}
\DoxyCodeLine{282   \textcolor{keyword}{using }WrappedAssembler::boundToRequirement;}
\DoxyCodeLine{283   \textcolor{keyword}{using }WrappedAssembler::createFullVector;}
\DoxyCodeLine{284 }
\DoxyCodeLine{285   \textcolor{keyword}{using }WrappedAssembler::affordanceCollection;}
\DoxyCodeLine{286   \textcolor{keyword}{using }WrappedAssembler::constraintsBelow;}
\DoxyCodeLine{287   \textcolor{keyword}{using }WrappedAssembler::dBCOption;}
\DoxyCodeLine{288   \textcolor{keyword}{using }WrappedAssembler::estimateOfConnectivity;}
\DoxyCodeLine{289   \textcolor{keyword}{using }WrappedAssembler::isConstrained;}
\DoxyCodeLine{290   \textcolor{keyword}{using }WrappedAssembler::reducedSize;}
\DoxyCodeLine{291   \textcolor{keyword}{using }WrappedAssembler::requirement;}
\DoxyCodeLine{292   \textcolor{keyword}{using }WrappedAssembler::size;}
\DoxyCodeLine{293 }
\DoxyCodeLine{294   \textcolor{comment}{// functions from implementations}}
\DoxyCodeLine{295   \textcolor{keyword}{using }MatrixAssemblerImpl::bind;}
\DoxyCodeLine{296   \textcolor{keyword}{using }ScalarAssemblerImpl::bind;}
\DoxyCodeLine{297   \textcolor{keyword}{using }VectorAssemblerImpl::bind;}
\DoxyCodeLine{298 }
\DoxyCodeLine{299 \textcolor{keyword}{private}:}
\DoxyCodeLine{300   \textcolor{keyword}{using }MatrixAssemblerImpl::getMatrixImpl;}
\DoxyCodeLine{301   \textcolor{keyword}{using }MatrixAssemblerImpl::getRawMatrixImpl;}
\DoxyCodeLine{302   \textcolor{keyword}{using }MatrixAssemblerImpl::getReducedMatrixImpl;}
\DoxyCodeLine{303   \textcolor{keyword}{using }ScalarAssemblerImpl::getScalarImpl;}
\DoxyCodeLine{304   \textcolor{keyword}{using }VectorAssemblerImpl::getRawVectorImpl;}
\DoxyCodeLine{305   \textcolor{keyword}{using }VectorAssemblerImpl::getReducedVectorImpl;}
\DoxyCodeLine{306   \textcolor{keyword}{using }VectorAssemblerImpl::getVectorImpl;}
\DoxyCodeLine{307 }
\DoxyCodeLine{308 \textcolor{keyword}{public}:}
\DoxyCodeLine{309   \textcolor{comment}{// functions from interfaces of the new manipulator assembler}}
\DoxyCodeLine{310   \textcolor{keyword}{using }MatrixAssemblerInterface::matrix;}
\DoxyCodeLine{311   \textcolor{keyword}{using }ScalarAssemblerInterface::scalar;}
\DoxyCodeLine{312   \textcolor{keyword}{using }VectorAssemblerInterface::vector;}
\DoxyCodeLine{313 }
\DoxyCodeLine{314   \textcolor{keyword}{using }\mbox{\hyperlink{a01233_a0a878d8bc56fdbfbfbebc2ceb1ded67f}{CallBackTypes}} =}
\DoxyCodeLine{315       std::tuple<\textcolor{keyword}{typename} ScalarAssemblerImpl::FunctionType, \textcolor{keyword}{typename} VectorAssemblerImpl::FunctionType,}
\DoxyCodeLine{316                  \textcolor{keyword}{typename} MatrixAssemblerImpl::FunctionType>;}
\DoxyCodeLine{317 }
\DoxyCodeLine{324   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{325   \textcolor{keyword}{requires}(not std::is\_same\_v<std::remove\_cvref\_t<std::tuple\_element\_t<0, std::tuple<Args...>>>, \mbox{\hyperlink{a01221}{AssemblerManipulator}}>)}
\DoxyCodeLine{326   \textcolor{keyword}{explicit} \mbox{\hyperlink{a01233_ab1188db460e760d50f1bddda973a4915}{AssemblerManipulator}}(Args\&\&... args)}
\DoxyCodeLine{327       : \mbox{\hyperlink{a01233_a62123a4b3e6532f92f9126bbb6ce90a7}{WrappedAssembler}}(std::forward<Args>(args)...) \{\}}
\DoxyCodeLine{328 }
\DoxyCodeLine{329 \textcolor{keyword}{private}:}
\DoxyCodeLine{330   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getScalarImpl, A)}
\DoxyCodeLine{331   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getRawVectorImpl, A)}
\DoxyCodeLine{332   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getReducedVectorImpl, A)}
\DoxyCodeLine{333   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getVectorImpl, A)}
\DoxyCodeLine{334   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getRawMatrixImpl, A)}
\DoxyCodeLine{335 }
\DoxyCodeLine{336   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getReducedMatrixImpl, A)}
\DoxyCodeLine{337 }
\DoxyCodeLine{338   \mbox{\hyperlink{a00314_ab88748ddf71ad00ec25d8e9dabcefa82}{BASECLASSMEMBERFUNCTION}}(getMatrixImpl, A)}
\DoxyCodeLine{339 }
\DoxyCodeLine{340   A\& base() \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}}
\DoxyCodeLine{341   \textcolor{keyword}{const} A\& base()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}}
\DoxyCodeLine{342 \};}
\DoxyCodeLine{343 }
\DoxyCodeLine{354 \textcolor{keyword}{template} <\textcolor{keyword}{typename} A>}
\DoxyCodeLine{355 \textcolor{keyword}{auto} \mbox{\hyperlink{a00360_afc83c2d114028f47280b981daf728ebe}{makeAssemblerManipulator}}(A\&\& a) \{}
\DoxyCodeLine{356   \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} scal = \mbox{\hyperlink{a01867}{Concepts::ScalarFlatAssembler<std::remove\_cvref\_t<A>}}>;}
\DoxyCodeLine{357   \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} vec  = \mbox{\hyperlink{a01868}{Concepts::VectorFlatAssembler<std::remove\_cvref\_t<A>}}>;}
\DoxyCodeLine{358   \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} mat  = \mbox{\hyperlink{a01869}{Concepts::MatrixFlatAssembler<std::remove\_cvref\_t<A>}}>;}
\DoxyCodeLine{359   \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (scal \&\& vec \&\& mat)}
\DoxyCodeLine{360     \textcolor{keywordflow}{return} std::make\_shared<}
\DoxyCodeLine{361         \mbox{\hyperlink{a01221}{AssemblerManipulator}}<std::remove\_cvref\_t<A>, Impl::AssemblerInterfaceHelper<ScalarAssembler, ScalarManipulator>,}
\DoxyCodeLine{362                              Impl::AssemblerInterfaceHelper<VectorAssembler, VectorManipulator>,}
\DoxyCodeLine{363                              Impl::AssemblerInterfaceHelper<MatrixAssembler, MatrixManipulator>>>(std::forward<A>(a));}
\DoxyCodeLine{364   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (scal \&\& vec)}
\DoxyCodeLine{365     \textcolor{keywordflow}{return} std::make\_shared<}
\DoxyCodeLine{366         \mbox{\hyperlink{a01221}{AssemblerManipulator}}<std::remove\_cvref\_t<A>, Impl::AssemblerInterfaceHelper<ScalarAssembler, ScalarManipulator>,}
\DoxyCodeLine{367                              Impl::AssemblerInterfaceHelper<VectorAssembler, VectorManipulator>>>(std::forward<A>(a));}
\DoxyCodeLine{368   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (scal)}
\DoxyCodeLine{369     \textcolor{keywordflow}{return} std::make\_shared<\mbox{\hyperlink{a01221}{AssemblerManipulator}}<std::remove\_cvref\_t<A>,}
\DoxyCodeLine{370                                                  Impl::AssemblerInterfaceHelper<ScalarAssembler, ScalarManipulator>>>(}
\DoxyCodeLine{371         std::forward<A>(a));}
\DoxyCodeLine{372 \}}
\DoxyCodeLine{373 \} \textcolor{comment}{// namespace Ikarus}}

\end{DoxyCode}
